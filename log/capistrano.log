  INFO ---------------------------------------------------------------------------
  INFO START 2016-09-18 15:35:10 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [9bc43521] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [9bc43521] Command: /usr/bin/env mkdir -p /tmp
  INFO [9bc43521] Finished in 0.435 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [9897add6] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [9897add6] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [9897add6] Finished in 0.059 seconds with exit status 0 (successful).
  INFO [12d73a4e] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [12d73a4e] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [12d73a4e] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
f57cd00bec99108c65b09e7e0630e81b2bc83272	refs/heads/master
  INFO [12d73a4e] Finished in 5.538 seconds with exit status 0 (successful).
  INFO [472775a1] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [472775a1] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [472775a1] Finished in 0.067 seconds with exit status 0 (successful).
 DEBUG [00b89cd6] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [00b89cd6] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [00b89cd6] Finished in 0.057 seconds with exit status 0 (successful).
 DEBUG [1f7c5dbd] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [1f7c5dbd] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [1f7c5dbd] 	f57cd00
 DEBUG [1f7c5dbd] Finished in 0.051 seconds with exit status 0 (successful).
 DEBUG [b84655b9] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [b84655b9] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [b84655b9] Finished in 0.064 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [46882f5e] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [46882f5e] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [46882f5e] Finished in 0.063 seconds with exit status 0 (successful).
  INFO [02be4e44] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [02be4e44] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [02be4e44] 	Fetching origin
  INFO [02be4e44] Finished in 6.068 seconds with exit status 0 (successful).
 DEBUG [3a4a7ff9] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [3a4a7ff9] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [3a4a7ff9] Finished in 0.053 seconds with exit status 0 (successful).
  INFO [b311e979] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918073516 as fudan_coffee@115.28.174.126
 DEBUG [b311e979] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918073516 )
  INFO [b311e979] Finished in 0.092 seconds with exit status 0 (successful).
  INFO [524ae900] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918073516 as fudan_coffee@115.28.174.126
 DEBUG [524ae900] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918073516 )
  INFO [524ae900] Finished in 0.075 seconds with exit status 0 (successful).
 DEBUG [949e2501] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [949e2501] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [949e2501] Finished in 0.062 seconds with exit status 0 (successful).
 DEBUG [95c77c1a] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [95c77c1a] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [95c77c1a] 	f57cd00bec99108c65b09e7e0630e81b2bc83272
 DEBUG [95c77c1a] Finished in 0.069 seconds with exit status 0 (successful).
 DEBUG [6e2bda2d] Running if test ! -d /home/fudan_coffee/deploy/releases/20160918073516; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918073516'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [6e2bda2d] Command: if test ! -d /home/fudan_coffee/deploy/releases/20160918073516; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918073516'" 1>&2; false; fi
 DEBUG [6e2bda2d] Finished in 0.059 seconds with exit status 0 (successful).
  INFO [2566c773] Running /usr/bin/env echo "f57cd00bec99108c65b09e7e0630e81b2bc83272" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [2566c773] Command: cd /home/fudan_coffee/deploy/releases/20160918073516 && /usr/bin/env echo "f57cd00bec99108c65b09e7e0630e81b2bc83272" >> REVISION
  INFO [2566c773] Finished in 0.060 seconds with exit status 0 (successful).
  INFO [71a8afc8] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918073516 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [71a8afc8] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918073516 /home/fudan_coffee/deploy/releases/current
  INFO [71a8afc8] Finished in 0.058 seconds with exit status 0 (successful).
  INFO [78cffa45] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [78cffa45] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [78cffa45] Finished in 0.069 seconds with exit status 0 (successful).
  INFO [05f6db5c] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918073516 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [05f6db5c] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918073516 && pip install -r doc/requirements.txt
 DEBUG [05f6db5c] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [05f6db5c] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [05f6db5c] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [05f6db5c] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [05f6db5c] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [05f6db5c] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [05f6db5c] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [05f6db5c] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [05f6db5c] Finished in 0.540 seconds with exit status 0 (successful).
  INFO [3ad3f830] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918073516 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [3ad3f830] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918073516 && python script/migration.py
  INFO [3ad3f830] Finished in 0.195 seconds with exit status 0 (successful).
  INFO [4944fced] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [4944fced] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [4944fced] 	coffee: stopped
coffee: started
  INFO [4944fced] Finished in 1.674 seconds with exit status 0 (successful).
 DEBUG [14595cf1] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [14595cf1] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [14595cf1] 	20160918065005	20160918065305	20160918070357	20160918072709	20160918072853
20160918073516
 DEBUG [14595cf1] Finished in 0.066 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [8f8af065] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918065005 as fudan_coffee@115.28.174.126
 DEBUG [8f8af065] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918065005
  INFO [8f8af065] Finished in 0.069 seconds with exit status 0 (successful).
 DEBUG [a1a0e603] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [a1a0e603] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [a1a0e603] Finished in 0.074 seconds with exit status 0 (successful).
  INFO [b44ecc22] Running /usr/bin/env echo "Branch master (at f57cd00bec99108c65b09e7e0630e81b2bc83272) deployed as release 20160918073516 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [b44ecc22] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at f57cd00bec99108c65b09e7e0630e81b2bc83272) deployed as release 20160918073516 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [b44ecc22] Finished in 0.055 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-09-18 15:35:55 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [12f4f915] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [12f4f915] Command: /usr/bin/env mkdir -p /tmp
  INFO [12f4f915] Finished in 0.440 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [50772cd4] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [50772cd4] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [50772cd4] Finished in 0.067 seconds with exit status 0 (successful).
  INFO [05189dfe] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [05189dfe] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [05189dfe] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
cdfe356811e8e9c1c72f20559c7e3ee484969dd0	refs/heads/master
  INFO [05189dfe] Finished in 6.471 seconds with exit status 0 (successful).
  INFO [2afb8944] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [2afb8944] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [2afb8944] Finished in 0.069 seconds with exit status 0 (successful).
 DEBUG [b3139768] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [b3139768] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [b3139768] Finished in 0.099 seconds with exit status 0 (successful).
 DEBUG [847465cc] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [847465cc] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [847465cc] 	f57cd00bec99108c65b09e7e0630e81b2bc83272
 DEBUG [847465cc] Finished in 0.079 seconds with exit status 0 (successful).
 DEBUG [7ee29d44] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [7ee29d44] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [7ee29d44] Finished in 0.059 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [c3023ec6] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [c3023ec6] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [c3023ec6] Finished in 0.060 seconds with exit status 0 (successful).
  INFO [a400a612] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [a400a612] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [a400a612] 	Fetching origin
 DEBUG [a400a612] 	From github.com:SlideMark/fudan_coffee
   f57cd00..cdfe356  master     -> master
  INFO [a400a612] Finished in 6.522 seconds with exit status 0 (successful).
 DEBUG [a8b6ac72] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [a8b6ac72] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [a8b6ac72] Finished in 0.055 seconds with exit status 0 (successful).
  INFO [275ff299] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918073603 as fudan_coffee@115.28.174.126
 DEBUG [275ff299] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918073603 )
  INFO [275ff299] Finished in 0.062 seconds with exit status 0 (successful).
  INFO [597a3fc6] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918073603 as fudan_coffee@115.28.174.126
 DEBUG [597a3fc6] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918073603 )
  INFO [597a3fc6] Finished in 0.074 seconds with exit status 0 (successful).
 DEBUG [d005bb8d] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [d005bb8d] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [d005bb8d] Finished in 0.052 seconds with exit status 0 (successful).
 DEBUG [0d005d77] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [0d005d77] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [0d005d77] 	cdfe356811e8e9c1c72f20559c7e3ee484969dd0
 DEBUG [0d005d77] Finished in 0.070 seconds with exit status 0 (successful).
 DEBUG [f7a5f7f8] Running if test ! -d /home/fudan_coffee/deploy/releases/20160918073603; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918073603'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [f7a5f7f8] Command: if test ! -d /home/fudan_coffee/deploy/releases/20160918073603; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918073603'" 1>&2; false; fi
 DEBUG [f7a5f7f8] Finished in 0.064 seconds with exit status 0 (successful).
  INFO [d9d45390] Running /usr/bin/env echo "cdfe356811e8e9c1c72f20559c7e3ee484969dd0" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [d9d45390] Command: cd /home/fudan_coffee/deploy/releases/20160918073603 && /usr/bin/env echo "cdfe356811e8e9c1c72f20559c7e3ee484969dd0" >> REVISION
  INFO [d9d45390] Finished in 0.066 seconds with exit status 0 (successful).
  INFO [6143c7e4] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918073603 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [6143c7e4] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918073603 /home/fudan_coffee/deploy/releases/current
  INFO [6143c7e4] Finished in 0.057 seconds with exit status 0 (successful).
  INFO [9ce6fe55] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [9ce6fe55] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [9ce6fe55] Finished in 0.070 seconds with exit status 0 (successful).
  INFO [d470a013] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918073603 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [d470a013] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918073603 && pip install -r doc/requirements.txt
 DEBUG [d470a013] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [d470a013] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [d470a013] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [d470a013] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [d470a013] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [d470a013] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [d470a013] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [d470a013] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [d470a013] Finished in 0.519 seconds with exit status 0 (successful).
  INFO [04ea0c69] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918073603 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [04ea0c69] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918073603 && python script/migration.py
  INFO [04ea0c69] Finished in 0.189 seconds with exit status 0 (successful).
  INFO [67fc5538] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [67fc5538] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [67fc5538] 	coffee: stopped
coffee: started
  INFO [67fc5538] Finished in 1.635 seconds with exit status 0 (successful).
 DEBUG [66f4258a] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [66f4258a] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [66f4258a] 	20160918065305	20160918070357	20160918072709	20160918072853	20160918073516
20160918073603
 DEBUG [66f4258a] Finished in 0.052 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [9ebb1592] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918065305 as fudan_coffee@115.28.174.126
 DEBUG [9ebb1592] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918065305
  INFO [9ebb1592] Finished in 0.069 seconds with exit status 0 (successful).
 DEBUG [ef57bd1a] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [ef57bd1a] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [ef57bd1a] Finished in 0.058 seconds with exit status 0 (successful).
  INFO [f51bc2bd] Running /usr/bin/env echo "Branch master (at cdfe356811e8e9c1c72f20559c7e3ee484969dd0) deployed as release 20160918073603 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [f51bc2bd] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at cdfe356811e8e9c1c72f20559c7e3ee484969dd0) deployed as release 20160918073603 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [f51bc2bd] Finished in 0.061 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-09-18 15:37:39 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [9041b9f9] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [9041b9f9] Command: /usr/bin/env mkdir -p /tmp
  INFO [9041b9f9] Finished in 0.397 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [f43469df] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [f43469df] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [f43469df] Finished in 0.071 seconds with exit status 0 (successful).
  INFO [cb20264e] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [cb20264e] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [cb20264e] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
112d1d8fab5d683967dfe24810a9a91c8f351480	refs/heads/master
  INFO [cb20264e] Finished in 7.439 seconds with exit status 0 (successful).
  INFO [61519954] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [61519954] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [61519954] Finished in 0.055 seconds with exit status 0 (successful).
 DEBUG [c68ff95e] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [c68ff95e] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [c68ff95e] Finished in 0.058 seconds with exit status 0 (successful).
 DEBUG [77158dff] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [77158dff] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [77158dff] 	cdfe356811e8e9c1c72f20559c7e3ee484969dd0
 DEBUG [77158dff] Finished in 0.070 seconds with exit status 0 (successful).
 DEBUG [b0dfd67e] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [b0dfd67e] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [b0dfd67e] Finished in 0.057 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [8d3671ad] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [8d3671ad] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [8d3671ad] Finished in 0.059 seconds with exit status 0 (successful).
  INFO [762dfa4f] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [762dfa4f] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [762dfa4f] 	Fetching origin
 DEBUG [762dfa4f] 	From github.com:SlideMark/fudan_coffee
   cdfe356..112d1d8  master     -> master
  INFO [762dfa4f] Finished in 8.892 seconds with exit status 0 (successful).
 DEBUG [e9f28cdb] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [e9f28cdb] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [e9f28cdb] Finished in 0.058 seconds with exit status 0 (successful).
  INFO [78ee4bad] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918073748 as fudan_coffee@115.28.174.126
 DEBUG [78ee4bad] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918073748 )
  INFO [78ee4bad] Finished in 0.073 seconds with exit status 0 (successful).
  INFO [1904219b] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918073748 as fudan_coffee@115.28.174.126
 DEBUG [1904219b] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918073748 )
  INFO [1904219b] Finished in 0.072 seconds with exit status 0 (successful).
 DEBUG [fda065d1] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [fda065d1] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [fda065d1] Finished in 0.067 seconds with exit status 0 (successful).
 DEBUG [af97b300] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [af97b300] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [af97b300] 	112d1d8fab5d683967dfe24810a9a91c8f351480
 DEBUG [af97b300] Finished in 0.065 seconds with exit status 0 (successful).
 DEBUG [5ebf2568] Running if test ! -d /home/fudan_coffee/deploy/releases/20160918073748; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918073748'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [5ebf2568] Command: if test ! -d /home/fudan_coffee/deploy/releases/20160918073748; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918073748'" 1>&2; false; fi
 DEBUG [5ebf2568] Finished in 0.061 seconds with exit status 0 (successful).
  INFO [bff35263] Running /usr/bin/env echo "112d1d8fab5d683967dfe24810a9a91c8f351480" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [bff35263] Command: cd /home/fudan_coffee/deploy/releases/20160918073748 && /usr/bin/env echo "112d1d8fab5d683967dfe24810a9a91c8f351480" >> REVISION
  INFO [bff35263] Finished in 0.060 seconds with exit status 0 (successful).
  INFO [5efc5622] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918073748 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [5efc5622] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918073748 /home/fudan_coffee/deploy/releases/current
  INFO [5efc5622] Finished in 0.066 seconds with exit status 0 (successful).
  INFO [6fddf019] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [6fddf019] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [6fddf019] Finished in 0.070 seconds with exit status 0 (successful).
  INFO [aaa18d96] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918073748 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [aaa18d96] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918073748 && pip install -r doc/requirements.txt
 DEBUG [aaa18d96] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [aaa18d96] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [aaa18d96] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [aaa18d96] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [aaa18d96] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [aaa18d96] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [aaa18d96] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [aaa18d96] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [aaa18d96] Finished in 0.556 seconds with exit status 0 (successful).
  INFO [18f23eb4] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918073748 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [18f23eb4] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918073748 && python script/migration.py
  INFO [18f23eb4] Finished in 0.192 seconds with exit status 0 (successful).
  INFO [ee678dd1] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [ee678dd1] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [ee678dd1] 	coffee: stopped
coffee: started
  INFO [ee678dd1] Finished in 1.778 seconds with exit status 0 (successful).
 DEBUG [cdd3d273] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [cdd3d273] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [cdd3d273] 	20160918070357	20160918072709	20160918072853	20160918073516	20160918073603
20160918073748
 DEBUG [cdd3d273] Finished in 0.070 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [e30070f9] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918070357 as fudan_coffee@115.28.174.126
 DEBUG [e30070f9] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918070357
  INFO [e30070f9] Finished in 0.079 seconds with exit status 0 (successful).
 DEBUG [7d3f293b] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [7d3f293b] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [7d3f293b] Finished in 0.070 seconds with exit status 0 (successful).
  INFO [5f11525b] Running /usr/bin/env echo "Branch master (at 112d1d8fab5d683967dfe24810a9a91c8f351480) deployed as release 20160918073748 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [5f11525b] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at 112d1d8fab5d683967dfe24810a9a91c8f351480) deployed as release 20160918073748 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [5f11525b] Finished in 0.061 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-09-18 15:56:58 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [af6a6858] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [af6a6858] Command: /usr/bin/env mkdir -p /tmp
  INFO [af6a6858] Finished in 0.394 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [882faf93] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [882faf93] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [882faf93] Finished in 0.079 seconds with exit status 0 (successful).
  INFO [f74c7033] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [f74c7033] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [f74c7033] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
99e3e068e730579546d209947989c90cc58d2daf	refs/heads/master
  INFO [f74c7033] Finished in 11.942 seconds with exit status 0 (successful).
  INFO [cdbd565f] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [cdbd565f] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [cdbd565f] Finished in 0.071 seconds with exit status 0 (successful).
 DEBUG [f5d03553] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [f5d03553] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [f5d03553] Finished in 0.071 seconds with exit status 0 (successful).
 DEBUG [3fba987a] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [3fba987a] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [3fba987a] 	112d1d8fab5d683967dfe24810a9a91c8f351480
 DEBUG [3fba987a] Finished in 0.068 seconds with exit status 0 (successful).
 DEBUG [0f062f2f] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [0f062f2f] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [0f062f2f] Finished in 0.071 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [9756c63e] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [9756c63e] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [9756c63e] Finished in 0.065 seconds with exit status 0 (successful).
  INFO [f3bbdd93] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [f3bbdd93] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [f3bbdd93] 	Fetching origin
 DEBUG [f3bbdd93] 	From github.com:SlideMark/fudan_coffee
   112d1d8..99e3e06  master     -> master
  INFO [f3bbdd93] Finished in 12.827 seconds with exit status 0 (successful).
 DEBUG [feb42f6a] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [feb42f6a] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [feb42f6a] Finished in 0.070 seconds with exit status 0 (successful).
  INFO [5e6ef54c] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918075711 as fudan_coffee@115.28.174.126
 DEBUG [5e6ef54c] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918075711 )
  INFO [5e6ef54c] Finished in 0.072 seconds with exit status 0 (successful).
  INFO [5babbebb] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918075711 as fudan_coffee@115.28.174.126
 DEBUG [5babbebb] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918075711 )
  INFO [5babbebb] Finished in 0.076 seconds with exit status 0 (successful).
 DEBUG [44e051b0] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [44e051b0] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [44e051b0] Finished in 0.062 seconds with exit status 0 (successful).
 DEBUG [4d1174eb] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [4d1174eb] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [4d1174eb] 	99e3e068e730579546d209947989c90cc58d2daf
 DEBUG [4d1174eb] Finished in 0.075 seconds with exit status 0 (successful).
 DEBUG [d074763a] Running if test ! -d /home/fudan_coffee/deploy/releases/20160918075711; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918075711'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [d074763a] Command: if test ! -d /home/fudan_coffee/deploy/releases/20160918075711; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918075711'" 1>&2; false; fi
 DEBUG [d074763a] Finished in 0.061 seconds with exit status 0 (successful).
  INFO [35db59ff] Running /usr/bin/env echo "99e3e068e730579546d209947989c90cc58d2daf" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [35db59ff] Command: cd /home/fudan_coffee/deploy/releases/20160918075711 && /usr/bin/env echo "99e3e068e730579546d209947989c90cc58d2daf" >> REVISION
  INFO [35db59ff] Finished in 0.082 seconds with exit status 0 (successful).
  INFO [658b607b] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918075711 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [658b607b] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918075711 /home/fudan_coffee/deploy/releases/current
  INFO [658b607b] Finished in 0.063 seconds with exit status 0 (successful).
  INFO [9e0f456e] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [9e0f456e] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [9e0f456e] Finished in 0.080 seconds with exit status 0 (successful).
  INFO [84918900] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918075711 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [84918900] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918075711 && pip install -r doc/requirements.txt
 DEBUG [84918900] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [84918900] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [84918900] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [84918900] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [84918900] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [84918900] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [84918900] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [84918900] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [84918900] Finished in 0.544 seconds with exit status 0 (successful).
  INFO [bc94a3e7] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918075711 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [bc94a3e7] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918075711 && python script/migration.py
  INFO [bc94a3e7] Finished in 0.206 seconds with exit status 0 (successful).
  INFO [0b7dd06e] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [0b7dd06e] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [0b7dd06e] 	coffee: stopped
coffee: started
  INFO [0b7dd06e] Finished in 1.632 seconds with exit status 0 (successful).
 DEBUG [dfd552bf] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [dfd552bf] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [dfd552bf] 	20160918072709	20160918072853	20160918073516	20160918073603	20160918073748
20160918075711
 DEBUG [dfd552bf] Finished in 0.084 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [3d7ab5ab] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918072709 as fudan_coffee@115.28.174.126
 DEBUG [3d7ab5ab] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918072709
  INFO [3d7ab5ab] Finished in 0.078 seconds with exit status 0 (successful).
 DEBUG [9ff42620] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [9ff42620] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [9ff42620] Finished in 0.061 seconds with exit status 0 (successful).
  INFO [e25d7697] Running /usr/bin/env echo "Branch master (at 99e3e068e730579546d209947989c90cc58d2daf) deployed as release 20160918075711 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [e25d7697] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at 99e3e068e730579546d209947989c90cc58d2daf) deployed as release 20160918075711 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [e25d7697] Finished in 0.071 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-09-18 16:01:39 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [9db4609a] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [9db4609a] Command: /usr/bin/env mkdir -p /tmp
  INFO [9db4609a] Finished in 0.431 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [632f6346] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [632f6346] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [632f6346] Finished in 0.070 seconds with exit status 0 (successful).
  INFO [4f227fd6] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [4f227fd6] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [4f227fd6] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
2bd97aba01c7f0a2bff073663cf8136811459031	refs/heads/master
  INFO [4f227fd6] Finished in 11.592 seconds with exit status 0 (successful).
  INFO [6e3b75ae] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [6e3b75ae] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [6e3b75ae] Finished in 0.062 seconds with exit status 0 (successful).
 DEBUG [58e4316d] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [58e4316d] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [58e4316d] Finished in 0.060 seconds with exit status 0 (successful).
 DEBUG [99041bcc] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [99041bcc] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [99041bcc] 	99e3e068e730579546d209947989c90cc58d2daf
 DEBUG [99041bcc] Finished in 0.069 seconds with exit status 0 (successful).
 DEBUG [fb0a097f] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [fb0a097f] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [fb0a097f] Finished in 0.066 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [319b54e5] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [319b54e5] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [319b54e5] Finished in 0.061 seconds with exit status 0 (successful).
  INFO [db18e175] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [db18e175] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [db18e175] 	Fetching origin
 DEBUG [db18e175] 	From github.com:SlideMark/fudan_coffee
   99e3e06..2bd97ab  master     -> master
  INFO [db18e175] Finished in 11.794 seconds with exit status 0 (successful).
 DEBUG [99f37f61] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [99f37f61] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [99f37f61] Finished in 0.068 seconds with exit status 0 (successful).
  INFO [efc00624] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918080152 as fudan_coffee@115.28.174.126
 DEBUG [efc00624] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918080152 )
  INFO [efc00624] Finished in 0.059 seconds with exit status 0 (successful).
  INFO [af68c6ce] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918080152 as fudan_coffee@115.28.174.126
 DEBUG [af68c6ce] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918080152 )
  INFO [af68c6ce] Finished in 0.084 seconds with exit status 0 (successful).
 DEBUG [6b4b6534] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [6b4b6534] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [6b4b6534] Finished in 0.061 seconds with exit status 0 (successful).
 DEBUG [788c446d] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [788c446d] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [788c446d] 	2bd97aba01c7f0a2bff073663cf8136811459031
 DEBUG [788c446d] Finished in 0.069 seconds with exit status 0 (successful).
 DEBUG [9d178eef] Running if test ! -d /home/fudan_coffee/deploy/releases/20160918080152; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918080152'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [9d178eef] Command: if test ! -d /home/fudan_coffee/deploy/releases/20160918080152; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918080152'" 1>&2; false; fi
 DEBUG [9d178eef] Finished in 0.070 seconds with exit status 0 (successful).
  INFO [aa27d7b9] Running /usr/bin/env echo "2bd97aba01c7f0a2bff073663cf8136811459031" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [aa27d7b9] Command: cd /home/fudan_coffee/deploy/releases/20160918080152 && /usr/bin/env echo "2bd97aba01c7f0a2bff073663cf8136811459031" >> REVISION
  INFO [aa27d7b9] Finished in 0.062 seconds with exit status 0 (successful).
  INFO [eb8bf4ba] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918080152 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [eb8bf4ba] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918080152 /home/fudan_coffee/deploy/releases/current
  INFO [eb8bf4ba] Finished in 0.066 seconds with exit status 0 (successful).
  INFO [c287ef12] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [c287ef12] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [c287ef12] Finished in 0.070 seconds with exit status 0 (successful).
  INFO [5f41da99] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918080152 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [5f41da99] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918080152 && pip install -r doc/requirements.txt
 DEBUG [5f41da99] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [5f41da99] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [5f41da99] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [5f41da99] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [5f41da99] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [5f41da99] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [5f41da99] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [5f41da99] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [5f41da99] Finished in 0.605 seconds with exit status 0 (successful).
  INFO [68231153] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918080152 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [68231153] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918080152 && python script/migration.py
  INFO [68231153] Finished in 0.197 seconds with exit status 0 (successful).
  INFO [e8056a35] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [e8056a35] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [e8056a35] 	coffee: stopped
coffee: started
  INFO [e8056a35] Finished in 1.711 seconds with exit status 0 (successful).
 DEBUG [07c3cc7c] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [07c3cc7c] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [07c3cc7c] 	20160918072853	20160918073516	20160918073603	20160918073748	20160918075711
20160918080152
 DEBUG [07c3cc7c] Finished in 0.073 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [a4265768] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918072853 as fudan_coffee@115.28.174.126
 DEBUG [a4265768] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918072853
  INFO [a4265768] Finished in 0.068 seconds with exit status 0 (successful).
 DEBUG [3318c112] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [3318c112] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [3318c112] Finished in 0.069 seconds with exit status 0 (successful).
  INFO [230b1c20] Running /usr/bin/env echo "Branch master (at 2bd97aba01c7f0a2bff073663cf8136811459031) deployed as release 20160918080152 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [230b1c20] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at 2bd97aba01c7f0a2bff073663cf8136811459031) deployed as release 20160918080152 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [230b1c20] Finished in 0.112 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-09-18 16:17:35 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [060332d8] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [060332d8] Command: /usr/bin/env mkdir -p /tmp
  INFO [060332d8] Finished in 0.415 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [cdb3fb11] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [cdb3fb11] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [cdb3fb11] Finished in 0.069 seconds with exit status 0 (successful).
  INFO [94cada2c] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [94cada2c] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [94cada2c] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
57492ecbb7cefcc765e53c8a0422c1de598d1152	refs/heads/master
  INFO [94cada2c] Finished in 10.606 seconds with exit status 0 (successful).
  INFO [9ead1b2c] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [9ead1b2c] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [9ead1b2c] Finished in 0.069 seconds with exit status 0 (successful).
 DEBUG [d8a88163] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [d8a88163] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [d8a88163] Finished in 0.060 seconds with exit status 0 (successful).
 DEBUG [de77ea13] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [de77ea13] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [de77ea13] 	2bd97aba01c7f0a2bff073663cf8136811459031
 DEBUG [de77ea13] Finished in 0.058 seconds with exit status 0 (successful).
 DEBUG [27a0e173] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [27a0e173] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [27a0e173] Finished in 0.057 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [5b5b8e15] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [5b5b8e15] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [5b5b8e15] Finished in 0.054 seconds with exit status 0 (successful).
  INFO [a5f509f3] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [a5f509f3] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [a5f509f3] 	Fetching origin
 DEBUG [a5f509f3] 	From github.com:SlideMark/fudan_coffee
   2bd97ab..57492ec  master     -> master
  INFO [a5f509f3] Finished in 10.570 seconds with exit status 0 (successful).
 DEBUG [42f313c1] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [42f313c1] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [42f313c1] Finished in 0.058 seconds with exit status 0 (successful).
  INFO [ece9390e] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918081747 as fudan_coffee@115.28.174.126
 DEBUG [ece9390e] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918081747 )
  INFO [ece9390e] Finished in 0.062 seconds with exit status 0 (successful).
  INFO [824c2342] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918081747 as fudan_coffee@115.28.174.126
 DEBUG [824c2342] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918081747 )
  INFO [824c2342] Finished in 0.076 seconds with exit status 0 (successful).
 DEBUG [e5634934] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [e5634934] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [e5634934] Finished in 0.057 seconds with exit status 0 (successful).
 DEBUG [efa9938c] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [efa9938c] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [efa9938c] 	57492ecbb7cefcc765e53c8a0422c1de598d1152
 DEBUG [efa9938c] Finished in 0.063 seconds with exit status 0 (successful).
 DEBUG [ddfd26d9] Running if test ! -d /home/fudan_coffee/deploy/releases/20160918081747; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918081747'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [ddfd26d9] Command: if test ! -d /home/fudan_coffee/deploy/releases/20160918081747; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918081747'" 1>&2; false; fi
 DEBUG [ddfd26d9] Finished in 0.059 seconds with exit status 0 (successful).
  INFO [ee494305] Running /usr/bin/env echo "57492ecbb7cefcc765e53c8a0422c1de598d1152" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [ee494305] Command: cd /home/fudan_coffee/deploy/releases/20160918081747 && /usr/bin/env echo "57492ecbb7cefcc765e53c8a0422c1de598d1152" >> REVISION
  INFO [ee494305] Finished in 0.060 seconds with exit status 0 (successful).
  INFO [8e74fcda] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918081747 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [8e74fcda] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918081747 /home/fudan_coffee/deploy/releases/current
  INFO [8e74fcda] Finished in 0.067 seconds with exit status 0 (successful).
  INFO [9d0cf469] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [9d0cf469] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [9d0cf469] Finished in 0.069 seconds with exit status 0 (successful).
  INFO [21a710cb] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918081747 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [21a710cb] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918081747 && pip install -r doc/requirements.txt
 DEBUG [21a710cb] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [21a710cb] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [21a710cb] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [21a710cb] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [21a710cb] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [21a710cb] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [21a710cb] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [21a710cb] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [21a710cb] Finished in 0.522 seconds with exit status 0 (successful).
  INFO [e746d9d2] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918081747 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [e746d9d2] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918081747 && python script/migration.py
  INFO [e746d9d2] Finished in 0.190 seconds with exit status 0 (successful).
  INFO [b091e8e6] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [b091e8e6] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [b091e8e6] 	coffee: stopped
coffee: started
  INFO [b091e8e6] Finished in 1.697 seconds with exit status 0 (successful).
 DEBUG [0b8c40ba] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [0b8c40ba] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [0b8c40ba] 	20160918073516	20160918073603	20160918073748	20160918075711	20160918080152
20160918081747
 DEBUG [0b8c40ba] Finished in 0.062 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [2c5c88d2] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918073516 as fudan_coffee@115.28.174.126
 DEBUG [2c5c88d2] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918073516
  INFO [2c5c88d2] Finished in 0.069 seconds with exit status 0 (successful).
 DEBUG [2cf73333] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [2cf73333] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [2cf73333] Finished in 0.058 seconds with exit status 0 (successful).
  INFO [80a13d46] Running /usr/bin/env echo "Branch master (at 57492ecbb7cefcc765e53c8a0422c1de598d1152) deployed as release 20160918081747 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [80a13d46] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at 57492ecbb7cefcc765e53c8a0422c1de598d1152) deployed as release 20160918081747 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [80a13d46] Finished in 0.062 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-09-18 16:35:50 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [01146835] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [01146835] Command: /usr/bin/env mkdir -p /tmp
  INFO [01146835] Finished in 0.446 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [ea87e3f1] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [ea87e3f1] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [ea87e3f1] Finished in 0.070 seconds with exit status 0 (successful).
  INFO [77754967] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [77754967] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [77754967] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
fdc93d722529966a8544f6564fae9c4b5dbb5ecc	refs/heads/master
  INFO [77754967] Finished in 5.874 seconds with exit status 0 (successful).
  INFO [502a4d2f] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [502a4d2f] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [502a4d2f] Finished in 0.070 seconds with exit status 0 (successful).
 DEBUG [4474f8bf] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [4474f8bf] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [4474f8bf] Finished in 0.058 seconds with exit status 0 (successful).
 DEBUG [60f7de41] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [60f7de41] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [60f7de41] 	57492ecbb7cefcc765e53c8a0422c1de598d1152
 DEBUG [60f7de41] Finished in 0.070 seconds with exit status 0 (successful).
 DEBUG [22a73191] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [22a73191] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [22a73191] Finished in 0.057 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [44dfa02a] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [44dfa02a] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [44dfa02a] Finished in 0.052 seconds with exit status 0 (successful).
  INFO [30f65caa] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [30f65caa] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [30f65caa] 	Fetching origin
 DEBUG [30f65caa] 	From github.com:SlideMark/fudan_coffee
   57492ec..fdc93d7  master     -> master
  INFO [30f65caa] Finished in 10.960 seconds with exit status 0 (successful).
 DEBUG [5a0421b4] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [5a0421b4] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [5a0421b4] Finished in 0.062 seconds with exit status 0 (successful).
  INFO [f6756c1d] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918083557 as fudan_coffee@115.28.174.126
 DEBUG [f6756c1d] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918083557 )
  INFO [f6756c1d] Finished in 0.066 seconds with exit status 0 (successful).
  INFO [16de9a3f] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918083557 as fudan_coffee@115.28.174.126
 DEBUG [16de9a3f] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918083557 )
  INFO [16de9a3f] Finished in 0.069 seconds with exit status 0 (successful).
 DEBUG [4880614b] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [4880614b] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [4880614b] Finished in 0.051 seconds with exit status 0 (successful).
 DEBUG [e270fd60] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [e270fd60] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [e270fd60] 	fdc93d722529966a8544f6564fae9c4b5dbb5ecc
 DEBUG [e270fd60] Finished in 0.070 seconds with exit status 0 (successful).
 DEBUG [4c6578e6] Running if test ! -d /home/fudan_coffee/deploy/releases/20160918083557; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918083557'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [4c6578e6] Command: if test ! -d /home/fudan_coffee/deploy/releases/20160918083557; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918083557'" 1>&2; false; fi
 DEBUG [4c6578e6] Finished in 0.058 seconds with exit status 0 (successful).
  INFO [d6de982f] Running /usr/bin/env echo "fdc93d722529966a8544f6564fae9c4b5dbb5ecc" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [d6de982f] Command: cd /home/fudan_coffee/deploy/releases/20160918083557 && /usr/bin/env echo "fdc93d722529966a8544f6564fae9c4b5dbb5ecc" >> REVISION
  INFO [d6de982f] Finished in 0.059 seconds with exit status 0 (successful).
  INFO [f3f07c84] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918083557 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [f3f07c84] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918083557 /home/fudan_coffee/deploy/releases/current
  INFO [f3f07c84] Finished in 0.070 seconds with exit status 0 (successful).
  INFO [c485e523] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [c485e523] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [c485e523] Finished in 0.069 seconds with exit status 0 (successful).
  INFO [6d1d23a8] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918083557 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [6d1d23a8] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918083557 && pip install -r doc/requirements.txt
 DEBUG [6d1d23a8] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [6d1d23a8] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [6d1d23a8] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [6d1d23a8] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [6d1d23a8] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [6d1d23a8] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [6d1d23a8] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [6d1d23a8] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [6d1d23a8] Finished in 0.540 seconds with exit status 0 (successful).
  INFO [520743b3] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918083557 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [520743b3] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918083557 && python script/migration.py
  INFO [520743b3] Finished in 0.191 seconds with exit status 0 (successful).
  INFO [3357281b] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [3357281b] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [3357281b] 	coffee: stopped
coffee: started
  INFO [3357281b] Finished in 1.621 seconds with exit status 0 (successful).
 DEBUG [e0c2570a] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [e0c2570a] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [e0c2570a] 	20160918073603	20160918073748	20160918075711	20160918080152	20160918081747
20160918083557
 DEBUG [e0c2570a] Finished in 0.074 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [47499a6f] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918073603 as fudan_coffee@115.28.174.126
 DEBUG [47499a6f] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918073603
  INFO [47499a6f] Finished in 0.069 seconds with exit status 0 (successful).
 DEBUG [917f0e57] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [917f0e57] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [917f0e57] Finished in 0.058 seconds with exit status 0 (successful).
  INFO [89b50f80] Running /usr/bin/env echo "Branch master (at fdc93d722529966a8544f6564fae9c4b5dbb5ecc) deployed as release 20160918083557 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [89b50f80] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at fdc93d722529966a8544f6564fae9c4b5dbb5ecc) deployed as release 20160918083557 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [89b50f80] Finished in 0.059 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-09-18 16:46:32 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [ee30eb04] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [ee30eb04] Command: /usr/bin/env mkdir -p /tmp
  INFO [ee30eb04] Finished in 0.396 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [52da7b06] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [52da7b06] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [52da7b06] Finished in 0.079 seconds with exit status 0 (successful).
  INFO [e97b8cac] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [e97b8cac] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [e97b8cac] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
f5c4a8e956717795ade0caa41f2487dcb42cd1c1	refs/heads/master
  INFO [e97b8cac] Finished in 10.439 seconds with exit status 0 (successful).
  INFO [6c118cfb] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [6c118cfb] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [6c118cfb] Finished in 0.075 seconds with exit status 0 (successful).
 DEBUG [c506560e] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [c506560e] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [c506560e] Finished in 0.075 seconds with exit status 0 (successful).
 DEBUG [5b7e5645] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [5b7e5645] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [5b7e5645] 	f5c4a8e
 DEBUG [5b7e5645] Finished in 0.073 seconds with exit status 0 (successful).
 DEBUG [ab395ba1] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [ab395ba1] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [ab395ba1] Finished in 0.071 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [dcb95670] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [dcb95670] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [dcb95670] Finished in 0.073 seconds with exit status 0 (successful).
  INFO [698be54e] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [698be54e] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [698be54e] 	Fetching origin
  INFO [698be54e] Finished in 26.568 seconds with exit status 0 (successful).
 DEBUG [b42867e0] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [b42867e0] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [b42867e0] Finished in 0.070 seconds with exit status 0 (successful).
  INFO [31b6203f] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918084644 as fudan_coffee@115.28.174.126
 DEBUG [31b6203f] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918084644 )
  INFO [31b6203f] Finished in 0.073 seconds with exit status 0 (successful).
  INFO [1bbbd33c] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918084644 as fudan_coffee@115.28.174.126
 DEBUG [1bbbd33c] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918084644 )
  INFO [1bbbd33c] Finished in 0.086 seconds with exit status 0 (successful).
 DEBUG [8d514c77] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [8d514c77] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [8d514c77] Finished in 0.068 seconds with exit status 0 (successful).
 DEBUG [45e17857] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [45e17857] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [45e17857] 	f5c4a8e956717795ade0caa41f2487dcb42cd1c1
 DEBUG [45e17857] Finished in 0.077 seconds with exit status 0 (successful).
 DEBUG [bbe8ea97] Running if test ! -d /home/fudan_coffee/deploy/releases/20160918084644; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918084644'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [bbe8ea97] Command: if test ! -d /home/fudan_coffee/deploy/releases/20160918084644; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918084644'" 1>&2; false; fi
 DEBUG [bbe8ea97] Finished in 0.072 seconds with exit status 0 (successful).
  INFO [7e87c94c] Running /usr/bin/env echo "f5c4a8e956717795ade0caa41f2487dcb42cd1c1" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [7e87c94c] Command: cd /home/fudan_coffee/deploy/releases/20160918084644 && /usr/bin/env echo "f5c4a8e956717795ade0caa41f2487dcb42cd1c1" >> REVISION
  INFO [7e87c94c] Finished in 0.072 seconds with exit status 0 (successful).
  INFO [c9411773] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918084644 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [c9411773] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918084644 /home/fudan_coffee/deploy/releases/current
  INFO [c9411773] Finished in 0.074 seconds with exit status 0 (successful).
  INFO [b016eb1d] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [b016eb1d] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [b016eb1d] Finished in 0.089 seconds with exit status 0 (successful).
  INFO [3947c7fb] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918084644 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [3947c7fb] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918084644 && pip install -r doc/requirements.txt
 DEBUG [3947c7fb] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [3947c7fb] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [3947c7fb] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [3947c7fb] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [3947c7fb] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [3947c7fb] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [3947c7fb] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [3947c7fb] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [3947c7fb] Finished in 0.604 seconds with exit status 0 (successful).
  INFO [ba9d2105] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918084644 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [ba9d2105] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918084644 && python script/migration.py
  INFO [ba9d2105] Finished in 0.200 seconds with exit status 0 (successful).
  INFO [70f4a339] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [70f4a339] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [70f4a339] 	coffee: stopped
coffee: started
  INFO [70f4a339] Finished in 1.635 seconds with exit status 0 (successful).
 DEBUG [c13b3ef7] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [c13b3ef7] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [c13b3ef7] 	20160918075711	20160918080152	20160918081747	20160918083557	20160918084154
20160918084644
 DEBUG [c13b3ef7] Finished in 0.077 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [fa28603e] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918075711 as fudan_coffee@115.28.174.126
 DEBUG [fa28603e] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918075711
  INFO [fa28603e] Finished in 0.078 seconds with exit status 0 (successful).
 DEBUG [ca300116] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [ca300116] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [ca300116] Finished in 0.071 seconds with exit status 0 (successful).
  INFO [5a76d129] Running /usr/bin/env echo "Branch master (at f5c4a8e956717795ade0caa41f2487dcb42cd1c1) deployed as release 20160918084644 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [5a76d129] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at f5c4a8e956717795ade0caa41f2487dcb42cd1c1) deployed as release 20160918084644 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [5a76d129] Finished in 0.071 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-09-18 16:57:00 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [6cb5225e] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [6cb5225e] Command: /usr/bin/env mkdir -p /tmp
  INFO [6cb5225e] Finished in 0.519 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [535425bd] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [535425bd] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [535425bd] Finished in 0.079 seconds with exit status 0 (successful).
  INFO [a8567e85] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [a8567e85] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [a8567e85] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
f5c4a8e956717795ade0caa41f2487dcb42cd1c1	refs/heads/master
  INFO [a8567e85] Finished in 6.760 seconds with exit status 0 (successful).
  INFO [0059199b] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [0059199b] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [0059199b] Finished in 0.094 seconds with exit status 0 (successful).
 DEBUG [ff65b0a7] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [ff65b0a7] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [ff65b0a7] Finished in 0.056 seconds with exit status 0 (successful).
 DEBUG [82b12a01] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [82b12a01] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [82b12a01] 	f5c4a8e956717795ade0caa41f2487dcb42cd1c1
 DEBUG [82b12a01] Finished in 0.088 seconds with exit status 0 (successful).
 DEBUG [1980c6b8] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [1980c6b8] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [1980c6b8] Finished in 0.080 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [26fbf319] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [26fbf319] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [26fbf319] Finished in 0.073 seconds with exit status 0 (successful).
  INFO [0a8b90de] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [0a8b90de] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [0a8b90de] 	Fetching origin
  INFO [0a8b90de] Finished in 10.027 seconds with exit status 0 (successful).
 DEBUG [a567a44b] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [a567a44b] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [a567a44b] Finished in 0.067 seconds with exit status 0 (successful).
  INFO [4a37931a] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918085708 as fudan_coffee@115.28.174.126
 DEBUG [4a37931a] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918085708 )
  INFO [4a37931a] Finished in 0.074 seconds with exit status 0 (successful).
  INFO [72688f9f] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918085708 as fudan_coffee@115.28.174.126
 DEBUG [72688f9f] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918085708 )
  INFO [72688f9f] Finished in 0.095 seconds with exit status 0 (successful).
 DEBUG [efde5bcb] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [efde5bcb] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [efde5bcb] Finished in 0.080 seconds with exit status 0 (successful).
 DEBUG [1b41db75] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [1b41db75] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [1b41db75] 	f5c4a8e956717795ade0caa41f2487dcb42cd1c1
 DEBUG [1b41db75] Finished in 0.077 seconds with exit status 0 (successful).
 DEBUG [7c4abc40] Running if test ! -d /home/fudan_coffee/deploy/releases/20160918085708; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918085708'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [7c4abc40] Command: if test ! -d /home/fudan_coffee/deploy/releases/20160918085708; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918085708'" 1>&2; false; fi
 DEBUG [7c4abc40] Finished in 0.072 seconds with exit status 0 (successful).
  INFO [f2e779c7] Running /usr/bin/env echo "f5c4a8e956717795ade0caa41f2487dcb42cd1c1" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [f2e779c7] Command: cd /home/fudan_coffee/deploy/releases/20160918085708 && /usr/bin/env echo "f5c4a8e956717795ade0caa41f2487dcb42cd1c1" >> REVISION
  INFO [f2e779c7] Finished in 0.068 seconds with exit status 0 (successful).
  INFO [0c276370] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918085708 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [0c276370] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918085708 /home/fudan_coffee/deploy/releases/current
  INFO [0c276370] Finished in 0.093 seconds with exit status 0 (successful).
  INFO [2466b0ac] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [2466b0ac] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [2466b0ac] Finished in 0.074 seconds with exit status 0 (successful).
  INFO [58faedb0] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918085708 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [58faedb0] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918085708 && pip install -r doc/requirements.txt
 DEBUG [58faedb0] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [58faedb0] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [58faedb0] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [58faedb0] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [58faedb0] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [58faedb0] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [58faedb0] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [58faedb0] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [58faedb0] Finished in 0.564 seconds with exit status 0 (successful).
  INFO [b433b974] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918085708 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [b433b974] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918085708 && python script/migration.py
  INFO [b433b974] Finished in 0.221 seconds with exit status 0 (successful).
  INFO [07ae4896] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [07ae4896] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [07ae4896] 	coffee: stopped
coffee: started
  INFO [07ae4896] Finished in 1.642 seconds with exit status 0 (successful).
 DEBUG [6a3e008c] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [6a3e008c] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [6a3e008c] 	20160918080152	20160918081747	20160918083557	20160918084154	20160918084644
20160918085708
 DEBUG [6a3e008c] Finished in 0.078 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [d7dbc449] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918080152 as fudan_coffee@115.28.174.126
 DEBUG [d7dbc449] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918080152
  INFO [d7dbc449] Finished in 0.079 seconds with exit status 0 (successful).
 DEBUG [a73a1a08] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [a73a1a08] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [a73a1a08] Finished in 0.081 seconds with exit status 0 (successful).
  INFO [00c03a34] Running /usr/bin/env echo "Branch master (at f5c4a8e956717795ade0caa41f2487dcb42cd1c1) deployed as release 20160918085708 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [00c03a34] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at f5c4a8e956717795ade0caa41f2487dcb42cd1c1) deployed as release 20160918085708 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [00c03a34] Finished in 0.071 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-09-18 16:57:59 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [066c6ffd] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [066c6ffd] Command: /usr/bin/env mkdir -p /tmp
  INFO [066c6ffd] Finished in 0.391 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [fd3b8c80] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [fd3b8c80] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [fd3b8c80] Finished in 0.079 seconds with exit status 0 (successful).
  INFO [b37c9491] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [b37c9491] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [b37c9491] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
6a55cbaebd51de8cf7d97d4f8446698978a38634	refs/heads/master
  INFO [b37c9491] Finished in 6.700 seconds with exit status 0 (successful).
  INFO [ae735cd3] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [ae735cd3] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [ae735cd3] Finished in 0.079 seconds with exit status 0 (successful).
 DEBUG [692030c8] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [692030c8] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [692030c8] Finished in 0.072 seconds with exit status 0 (successful).
 DEBUG [29cfcbf5] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [29cfcbf5] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [29cfcbf5] 	f5c4a8e956717795ade0caa41f2487dcb42cd1c1
 DEBUG [29cfcbf5] Finished in 0.077 seconds with exit status 0 (successful).
 DEBUG [48cbeeb0] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [48cbeeb0] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [48cbeeb0] Finished in 0.089 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [dae35e69] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [dae35e69] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [dae35e69] Finished in 0.062 seconds with exit status 0 (successful).
  INFO [98c524f9] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [98c524f9] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [98c524f9] 	Fetching origin
 DEBUG [98c524f9] 	From github.com:SlideMark/fudan_coffee
   f5c4a8e..6a55cba  master     -> master
  INFO [98c524f9] Finished in 7.880 seconds with exit status 0 (successful).
 DEBUG [d5fc05f6] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [d5fc05f6] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [d5fc05f6] Finished in 0.071 seconds with exit status 0 (successful).
  INFO [05321149] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918085807 as fudan_coffee@115.28.174.126
 DEBUG [05321149] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918085807 )
  INFO [05321149] Finished in 0.074 seconds with exit status 0 (successful).
  INFO [a50d04fb] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918085807 as fudan_coffee@115.28.174.126
 DEBUG [a50d04fb] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918085807 )
  INFO [a50d04fb] Finished in 0.084 seconds with exit status 0 (successful).
 DEBUG [30112405] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [30112405] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [30112405] Finished in 0.069 seconds with exit status 0 (successful).
 DEBUG [f75227a8] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [f75227a8] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [f75227a8] 	6a55cbaebd51de8cf7d97d4f8446698978a38634
 DEBUG [f75227a8] Finished in 0.077 seconds with exit status 0 (successful).
 DEBUG [dd4e7c72] Running if test ! -d /home/fudan_coffee/deploy/releases/20160918085807; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918085807'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [dd4e7c72] Command: if test ! -d /home/fudan_coffee/deploy/releases/20160918085807; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918085807'" 1>&2; false; fi
 DEBUG [dd4e7c72] Finished in 0.073 seconds with exit status 0 (successful).
  INFO [3877d5a8] Running /usr/bin/env echo "6a55cbaebd51de8cf7d97d4f8446698978a38634" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [3877d5a8] Command: cd /home/fudan_coffee/deploy/releases/20160918085807 && /usr/bin/env echo "6a55cbaebd51de8cf7d97d4f8446698978a38634" >> REVISION
  INFO [3877d5a8] Finished in 0.070 seconds with exit status 0 (successful).
  INFO [01c3c98e] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918085807 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [01c3c98e] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918085807 /home/fudan_coffee/deploy/releases/current
  INFO [01c3c98e] Finished in 0.074 seconds with exit status 0 (successful).
  INFO [dc557595] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [dc557595] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [dc557595] Finished in 0.080 seconds with exit status 0 (successful).
  INFO [54d8483c] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918085807 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [54d8483c] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918085807 && pip install -r doc/requirements.txt
 DEBUG [54d8483c] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [54d8483c] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [54d8483c] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [54d8483c] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [54d8483c] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [54d8483c] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [54d8483c] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [54d8483c] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [54d8483c] Finished in 0.538 seconds with exit status 0 (successful).
  INFO [03681272] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918085807 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [03681272] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918085807 && python script/migration.py
  INFO [03681272] Finished in 0.213 seconds with exit status 0 (successful).
  INFO [ae68562f] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [ae68562f] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [ae68562f] 	coffee: stopped
coffee: started
  INFO [ae68562f] Finished in 1.635 seconds with exit status 0 (successful).
 DEBUG [64e999df] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [64e999df] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [64e999df] 	20160918081747	20160918083557	20160918084154	20160918084644	20160918085708
20160918085807
 DEBUG [64e999df] Finished in 0.086 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [22ef1447] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918081747 as fudan_coffee@115.28.174.126
 DEBUG [22ef1447] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918081747
  INFO [22ef1447] Finished in 0.083 seconds with exit status 0 (successful).
 DEBUG [2ab0d695] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [2ab0d695] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [2ab0d695] Finished in 0.068 seconds with exit status 0 (successful).
  INFO [8c1bf6a3] Running /usr/bin/env echo "Branch master (at 6a55cbaebd51de8cf7d97d4f8446698978a38634) deployed as release 20160918085807 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [8c1bf6a3] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at 6a55cbaebd51de8cf7d97d4f8446698978a38634) deployed as release 20160918085807 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [8c1bf6a3] Finished in 0.070 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-09-18 17:02:55 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [67cdc6ea] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [67cdc6ea] Command: /usr/bin/env mkdir -p /tmp
  INFO [67cdc6ea] Finished in 0.380 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [51b42341] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [51b42341] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [51b42341] Finished in 0.079 seconds with exit status 0 (successful).
  INFO [79ffa35e] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [79ffa35e] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [79ffa35e] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
9e542c95ff0d933ad7d4fdc73bd665d9627bc27a	refs/heads/master
  INFO [79ffa35e] Finished in 5.014 seconds with exit status 0 (successful).
  INFO [7463094b] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [7463094b] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [7463094b] Finished in 0.097 seconds with exit status 0 (successful).
 DEBUG [69f03556] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [69f03556] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [69f03556] Finished in 0.090 seconds with exit status 0 (successful).
 DEBUG [9b83accf] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [9b83accf] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [9b83accf] 	9e542c9
 DEBUG [9b83accf] Finished in 0.079 seconds with exit status 0 (successful).
 DEBUG [003ebeb2] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [003ebeb2] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [003ebeb2] Finished in 0.078 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [a0b6524f] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [a0b6524f] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [a0b6524f] Finished in 0.078 seconds with exit status 0 (successful).
  INFO [21a3df8a] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [21a3df8a] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [21a3df8a] 	Fetching origin
  INFO [21a3df8a] Finished in 7.584 seconds with exit status 0 (successful).
 DEBUG [27298ca5] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [27298ca5] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [27298ca5] Finished in 0.076 seconds with exit status 0 (successful).
  INFO [11e1f1e9] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918090302 as fudan_coffee@115.28.174.126
 DEBUG [11e1f1e9] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918090302 )
  INFO [11e1f1e9] Finished in 0.083 seconds with exit status 0 (successful).
  INFO [9890a42a] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918090302 as fudan_coffee@115.28.174.126
 DEBUG [9890a42a] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918090302 )
  INFO [9890a42a] Finished in 0.105 seconds with exit status 0 (successful).
 DEBUG [1e640f86] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [1e640f86] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [1e640f86] Finished in 0.080 seconds with exit status 0 (successful).
 DEBUG [e01d7950] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [e01d7950] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [e01d7950] 	9e542c95ff0d933ad7d4fdc73bd665d9627bc27a
 DEBUG [e01d7950] Finished in 0.090 seconds with exit status 0 (successful).
 DEBUG [3608319a] Running if test ! -d /home/fudan_coffee/deploy/releases/20160918090302; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918090302'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [3608319a] Command: if test ! -d /home/fudan_coffee/deploy/releases/20160918090302; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918090302'" 1>&2; false; fi
 DEBUG [3608319a] Finished in 0.085 seconds with exit status 0 (successful).
  INFO [559235d4] Running /usr/bin/env echo "9e542c95ff0d933ad7d4fdc73bd665d9627bc27a" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [559235d4] Command: cd /home/fudan_coffee/deploy/releases/20160918090302 && /usr/bin/env echo "9e542c95ff0d933ad7d4fdc73bd665d9627bc27a" >> REVISION
  INFO [559235d4] Finished in 0.076 seconds with exit status 0 (successful).
  INFO [c48d4835] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918090302 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [c48d4835] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918090302 /home/fudan_coffee/deploy/releases/current
  INFO [c48d4835] Finished in 0.086 seconds with exit status 0 (successful).
  INFO [4169dd92] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [4169dd92] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [4169dd92] Finished in 0.089 seconds with exit status 0 (successful).
  INFO [4296c164] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918090302 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [4296c164] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918090302 && pip install -r doc/requirements.txt
 DEBUG [4296c164] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [4296c164] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [4296c164] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [4296c164] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [4296c164] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [4296c164] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [4296c164] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [4296c164] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [4296c164] Finished in 0.677 seconds with exit status 0 (successful).
  INFO [eedef945] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918090302 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [eedef945] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918090302 && python script/migration.py
  INFO [eedef945] Finished in 0.209 seconds with exit status 0 (successful).
  INFO [83a8168b] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [83a8168b] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [83a8168b] 	coffee: stopped
coffee: started
  INFO [83a8168b] Finished in 1.645 seconds with exit status 0 (successful).
 DEBUG [50e729c8] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [50e729c8] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [50e729c8] 	20160918084154	20160918084644	20160918085708	20160918085807	20160918090108
20160918090302
 DEBUG [50e729c8] Finished in 0.085 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [2394534c] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918084154 as fudan_coffee@115.28.174.126
 DEBUG [2394534c] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918084154
  INFO [2394534c] Finished in 0.108 seconds with exit status 0 (successful).
 DEBUG [0c88720d] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [0c88720d] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [0c88720d] Finished in 0.082 seconds with exit status 0 (successful).
  INFO [4a7e1187] Running /usr/bin/env echo "Branch master (at 9e542c95ff0d933ad7d4fdc73bd665d9627bc27a) deployed as release 20160918090302 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [4a7e1187] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at 9e542c95ff0d933ad7d4fdc73bd665d9627bc27a) deployed as release 20160918090302 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [4a7e1187] Finished in 0.078 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-09-18 17:16:38 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [723df978] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [723df978] Command: /usr/bin/env mkdir -p /tmp
  INFO [723df978] Finished in 0.420 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [89a6cd51] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [89a6cd51] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [89a6cd51] Finished in 0.138 seconds with exit status 0 (successful).
  INFO [df5c20c3] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [df5c20c3] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [df5c20c3] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
c7f300d415c0291fc69104fd8561252466e0e9ee	refs/heads/master
  INFO [df5c20c3] Finished in 4.631 seconds with exit status 0 (successful).
  INFO [70039101] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [70039101] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [70039101] Finished in 0.089 seconds with exit status 0 (successful).
 DEBUG [ed10b354] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [ed10b354] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [ed10b354] Finished in 0.074 seconds with exit status 0 (successful).
 DEBUG [64a988fb] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [64a988fb] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [64a988fb] 	9e542c95ff0d933ad7d4fdc73bd665d9627bc27a
 DEBUG [64a988fb] Finished in 0.075 seconds with exit status 0 (successful).
 DEBUG [82a7df48] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [82a7df48] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [82a7df48] Finished in 0.074 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [14629524] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [14629524] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [14629524] Finished in 0.062 seconds with exit status 0 (successful).
  INFO [ea38c5ef] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [ea38c5ef] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [ea38c5ef] 	Fetching origin
 DEBUG [ea38c5ef] 	From github.com:SlideMark/fudan_coffee
 DEBUG [ea38c5ef] 	   9e542c9..c7f300d  master     -> master
  INFO [ea38c5ef] Finished in 6.165 seconds with exit status 0 (successful).
 DEBUG [0870056a] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [0870056a] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [0870056a] Finished in 0.075 seconds with exit status 0 (successful).
  INFO [2de3d10d] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918091644 as fudan_coffee@115.28.174.126
 DEBUG [2de3d10d] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918091644 )
  INFO [2de3d10d] Finished in 0.070 seconds with exit status 0 (successful).
  INFO [808adc4f] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918091644 as fudan_coffee@115.28.174.126
 DEBUG [808adc4f] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918091644 )
  INFO [808adc4f] Finished in 0.088 seconds with exit status 0 (successful).
 DEBUG [0ed7d065] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [0ed7d065] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [0ed7d065] Finished in 0.067 seconds with exit status 0 (successful).
 DEBUG [77338b3a] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [77338b3a] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [77338b3a] 	c7f300d415c0291fc69104fd8561252466e0e9ee
 DEBUG [77338b3a] Finished in 0.075 seconds with exit status 0 (successful).
 DEBUG [3ed5d1b1] Running if test ! -d /home/fudan_coffee/deploy/releases/20160918091644; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918091644'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [3ed5d1b1] Command: if test ! -d /home/fudan_coffee/deploy/releases/20160918091644; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918091644'" 1>&2; false; fi
 DEBUG [3ed5d1b1] Finished in 0.074 seconds with exit status 0 (successful).
  INFO [cdcdcd99] Running /usr/bin/env echo "c7f300d415c0291fc69104fd8561252466e0e9ee" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [cdcdcd99] Command: cd /home/fudan_coffee/deploy/releases/20160918091644 && /usr/bin/env echo "c7f300d415c0291fc69104fd8561252466e0e9ee" >> REVISION
  INFO [cdcdcd99] Finished in 0.073 seconds with exit status 0 (successful).
  INFO [23db7c3a] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918091644 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [23db7c3a] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918091644 /home/fudan_coffee/deploy/releases/current
  INFO [23db7c3a] Finished in 0.106 seconds with exit status 0 (successful).
  INFO [b19ca036] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [b19ca036] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [b19ca036] Finished in 0.094 seconds with exit status 0 (successful).
  INFO [08c58203] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918091644 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [08c58203] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918091644 && pip install -r doc/requirements.txt
 DEBUG [08c58203] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [08c58203] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [08c58203] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [08c58203] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [08c58203] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [08c58203] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [08c58203] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [08c58203] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [08c58203] Finished in 0.659 seconds with exit status 0 (successful).
  INFO [60b7b5ad] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918091644 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [60b7b5ad] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918091644 && python script/migration.py
  INFO [60b7b5ad] Finished in 0.209 seconds with exit status 0 (successful).
  INFO [31302877] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [31302877] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [31302877] 	coffee: stopped
coffee: started
  INFO [31302877] Finished in 1.671 seconds with exit status 0 (successful).
 DEBUG [32f1c273] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [32f1c273] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [32f1c273] 	20160918084644	20160918085708	20160918085807	20160918090108	20160918090302
20160918091644
 DEBUG [32f1c273] Finished in 0.066 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [a77e72f6] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918084644 as fudan_coffee@115.28.174.126
 DEBUG [a77e72f6] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918084644
  INFO [a77e72f6] Finished in 0.079 seconds with exit status 0 (successful).
 DEBUG [d551f7d2] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [d551f7d2] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [d551f7d2] Finished in 1.091 seconds with exit status 0 (successful).
  INFO [4054f28a] Running /usr/bin/env echo "Branch master (at c7f300d415c0291fc69104fd8561252466e0e9ee) deployed as release 20160918091644 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [4054f28a] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at c7f300d415c0291fc69104fd8561252466e0e9ee) deployed as release 20160918091644 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [4054f28a] Finished in 0.506 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-09-18 17:17:43 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [4ba97505] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [4ba97505] Command: /usr/bin/env mkdir -p /tmp
  INFO [4ba97505] Finished in 0.427 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [234ce0ac] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [234ce0ac] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [234ce0ac] Finished in 0.060 seconds with exit status 0 (successful).
  INFO [a8c4240e] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [a8c4240e] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [a8c4240e] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
b2a63db05bfae903545b40702e3356f3984552ae	refs/heads/master
  INFO [a8c4240e] Finished in 9.739 seconds with exit status 0 (successful).
  INFO [2d9e2aec] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [2d9e2aec] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [2d9e2aec] Finished in 0.061 seconds with exit status 0 (successful).
 DEBUG [3609faff] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [3609faff] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [3609faff] Finished in 0.056 seconds with exit status 0 (successful).
 DEBUG [15bdce0b] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [15bdce0b] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [15bdce0b] 	c7f300d415c0291fc69104fd8561252466e0e9ee
 DEBUG [15bdce0b] Finished in 0.051 seconds with exit status 0 (successful).
 DEBUG [33192d56] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [33192d56] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [33192d56] Finished in 0.058 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [e3454993] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [e3454993] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [e3454993] Finished in 0.062 seconds with exit status 0 (successful).
  INFO [83858793] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [83858793] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [83858793] 	Fetching origin
 DEBUG [83858793] 	From github.com:SlideMark/fudan_coffee
   c7f300d..b2a63db  master     -> master
  INFO [83858793] Finished in 6.297 seconds with exit status 0 (successful).
 DEBUG [d90e1f8b] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [d90e1f8b] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [d90e1f8b] Finished in 0.057 seconds with exit status 0 (successful).
  INFO [6b88c4b9] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918091754 as fudan_coffee@115.28.174.126
 DEBUG [6b88c4b9] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918091754 )
  INFO [6b88c4b9] Finished in 0.062 seconds with exit status 0 (successful).
  INFO [54354d0d] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918091754 as fudan_coffee@115.28.174.126
 DEBUG [54354d0d] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918091754 )
  INFO [54354d0d] Finished in 0.096 seconds with exit status 0 (successful).
 DEBUG [27bbadfc] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [27bbadfc] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [27bbadfc] Finished in 0.082 seconds with exit status 0 (successful).
 DEBUG [9f53d3ef] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [9f53d3ef] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [9f53d3ef] 	b2a63db05bfae903545b40702e3356f3984552ae
 DEBUG [9f53d3ef] Finished in 0.090 seconds with exit status 0 (successful).
 DEBUG [68b87327] Running if test ! -d /home/fudan_coffee/deploy/releases/20160918091754; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918091754'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [68b87327] Command: if test ! -d /home/fudan_coffee/deploy/releases/20160918091754; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918091754'" 1>&2; false; fi
 DEBUG [68b87327] Finished in 0.065 seconds with exit status 0 (successful).
  INFO [79933beb] Running /usr/bin/env echo "b2a63db05bfae903545b40702e3356f3984552ae" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [79933beb] Command: cd /home/fudan_coffee/deploy/releases/20160918091754 && /usr/bin/env echo "b2a63db05bfae903545b40702e3356f3984552ae" >> REVISION
  INFO [79933beb] Finished in 0.052 seconds with exit status 0 (successful).
  INFO [9930d731] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918091754 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [9930d731] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918091754 /home/fudan_coffee/deploy/releases/current
  INFO [9930d731] Finished in 0.074 seconds with exit status 0 (successful).
  INFO [aa7a8448] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [aa7a8448] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [aa7a8448] Finished in 0.324 seconds with exit status 0 (successful).
  INFO [1258e032] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918091754 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [1258e032] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918091754 && pip install -r doc/requirements.txt
 DEBUG [1258e032] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [1258e032] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [1258e032] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [1258e032] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [1258e032] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [1258e032] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [1258e032] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [1258e032] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [1258e032] Finished in 0.627 seconds with exit status 0 (successful).
  INFO [49287987] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918091754 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [49287987] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918091754 && python script/migration.py
  INFO [49287987] Finished in 0.200 seconds with exit status 0 (successful).
  INFO [31d1bc39] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [31d1bc39] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [31d1bc39] 	coffee: stopped
coffee: started
  INFO [31d1bc39] Finished in 1.677 seconds with exit status 0 (successful).
 DEBUG [f170befb] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [f170befb] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [f170befb] 	20160918085708	20160918085807	20160918090108	20160918090302	20160918091644
20160918091754
 DEBUG [f170befb] Finished in 0.073 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [ea67bb5e] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918085708 as fudan_coffee@115.28.174.126
 DEBUG [ea67bb5e] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918085708
  INFO [ea67bb5e] Finished in 0.063 seconds with exit status 0 (successful).
 DEBUG [9c0debaa] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [9c0debaa] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [9c0debaa] Finished in 0.060 seconds with exit status 0 (successful).
  INFO [faafc02a] Running /usr/bin/env echo "Branch master (at b2a63db05bfae903545b40702e3356f3984552ae) deployed as release 20160918091754 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [faafc02a] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at b2a63db05bfae903545b40702e3356f3984552ae) deployed as release 20160918091754 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [faafc02a] Finished in 0.058 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-09-18 19:14:41 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [7113d2dc] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [7113d2dc] Command: /usr/bin/env mkdir -p /tmp
  INFO [7113d2dc] Finished in 0.455 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [5b7df03f] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [5b7df03f] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [5b7df03f] Finished in 0.100 seconds with exit status 0 (successful).
  INFO [d6c37db1] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [d6c37db1] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [d6c37db1] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
9be946fcacf9f7a6996a85882e9e3c9caecb4eb7	refs/heads/master
  INFO [d6c37db1] Finished in 5.700 seconds with exit status 0 (successful).
  INFO [2b886aa9] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [2b886aa9] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [2b886aa9] Finished in 0.097 seconds with exit status 0 (successful).
 DEBUG [e62fee82] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [e62fee82] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [e62fee82] Finished in 0.070 seconds with exit status 0 (successful).
 DEBUG [b863f6f0] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [b863f6f0] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [b863f6f0] 	e787dcb
 DEBUG [b863f6f0] Finished in 0.071 seconds with exit status 0 (successful).
 DEBUG [157b3184] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [157b3184] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [157b3184] Finished in 0.077 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [c59dacc2] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [c59dacc2] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [c59dacc2] Finished in 0.092 seconds with exit status 0 (successful).
  INFO [80e539ba] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [80e539ba] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [80e539ba] 	Fetching origin
 DEBUG [80e539ba] 	From github.com:SlideMark/fudan_coffee
   e787dcb..9be946f  master     -> master
  INFO [80e539ba] Finished in 6.584 seconds with exit status 0 (successful).
 DEBUG [4bb73d8a] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [4bb73d8a] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [4bb73d8a] Finished in 0.071 seconds with exit status 0 (successful).
  INFO [ea7f7362] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918111449 as fudan_coffee@115.28.174.126
 DEBUG [ea7f7362] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918111449 )
  INFO [ea7f7362] Finished in 0.071 seconds with exit status 0 (successful).
  INFO [76826836] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918111449 as fudan_coffee@115.28.174.126
 DEBUG [76826836] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918111449 )
  INFO [76826836] Finished in 0.095 seconds with exit status 0 (successful).
 DEBUG [0c7797f0] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [0c7797f0] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [0c7797f0] Finished in 0.072 seconds with exit status 0 (successful).
 DEBUG [b86be913] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [b86be913] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [b86be913] 	9be946fcacf9f7a6996a85882e9e3c9caecb4eb7
 DEBUG [b86be913] Finished in 0.080 seconds with exit status 0 (successful).
 DEBUG [a2b19ab0] Running if test ! -d /home/fudan_coffee/deploy/releases/20160918111449; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918111449'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [a2b19ab0] Command: if test ! -d /home/fudan_coffee/deploy/releases/20160918111449; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918111449'" 1>&2; false; fi
 DEBUG [a2b19ab0] Finished in 0.089 seconds with exit status 0 (successful).
  INFO [279b752c] Running /usr/bin/env echo "9be946fcacf9f7a6996a85882e9e3c9caecb4eb7" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [279b752c] Command: cd /home/fudan_coffee/deploy/releases/20160918111449 && /usr/bin/env echo "9be946fcacf9f7a6996a85882e9e3c9caecb4eb7" >> REVISION
  INFO [279b752c] Finished in 0.101 seconds with exit status 0 (successful).
  INFO [db376b90] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918111449 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [db376b90] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918111449 /home/fudan_coffee/deploy/releases/current
  INFO [db376b90] Finished in 0.088 seconds with exit status 0 (successful).
  INFO [403456b9] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [403456b9] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [403456b9] Finished in 0.079 seconds with exit status 0 (successful).
  INFO [13fb8728] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918111449 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [13fb8728] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918111449 && pip install -r doc/requirements.txt
 DEBUG [13fb8728] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [13fb8728] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [13fb8728] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [13fb8728] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [13fb8728] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [13fb8728] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [13fb8728] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [13fb8728] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [13fb8728] Finished in 0.566 seconds with exit status 0 (successful).
  INFO [bff9cb5f] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918111449 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [bff9cb5f] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918111449 && python script/migration.py
  INFO [bff9cb5f] Finished in 0.204 seconds with exit status 0 (successful).
  INFO [c51c9ba2] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [c51c9ba2] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [c51c9ba2] 	coffee: stopped
coffee: started
  INFO [c51c9ba2] Finished in 1.637 seconds with exit status 0 (successful).
 DEBUG [d76165b7] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [d76165b7] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [d76165b7] 	20160918091754	20160918092337	20160918092808	20160918092907	20160918101213
20160918111449
 DEBUG [d76165b7] Finished in 0.089 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [0033e1dd] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918091754 as fudan_coffee@115.28.174.126
 DEBUG [0033e1dd] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918091754
  INFO [0033e1dd] Finished in 0.092 seconds with exit status 0 (successful).
 DEBUG [5cd9802b] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [5cd9802b] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [5cd9802b] Finished in 0.079 seconds with exit status 0 (successful).
  INFO [2063ea28] Running /usr/bin/env echo "Branch master (at 9be946fcacf9f7a6996a85882e9e3c9caecb4eb7) deployed as release 20160918111449 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [2063ea28] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at 9be946fcacf9f7a6996a85882e9e3c9caecb4eb7) deployed as release 20160918111449 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [2063ea28] Finished in 0.094 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-09-18 19:18:47 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [89838f78] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [89838f78] Command: /usr/bin/env mkdir -p /tmp
  INFO [89838f78] Finished in 0.433 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [453286c8] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [453286c8] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [453286c8] Finished in 0.090 seconds with exit status 0 (successful).
  INFO [a227827e] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [a227827e] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [a227827e] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
64e7e2dbcd1e3a4e85245331877daf1c717488b8	refs/heads/master
  INFO [a227827e] Finished in 4.694 seconds with exit status 0 (successful).
  INFO [e791434d] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [e791434d] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [e791434d] Finished in 0.073 seconds with exit status 0 (successful).
 DEBUG [a8eeac8a] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [a8eeac8a] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [a8eeac8a] Finished in 0.072 seconds with exit status 0 (successful).
 DEBUG [46e20a1f] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [46e20a1f] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [46e20a1f] 	9be946fcacf9f7a6996a85882e9e3c9caecb4eb7
 DEBUG [46e20a1f] Finished in 0.079 seconds with exit status 0 (successful).
 DEBUG [021e9b9c] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [021e9b9c] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [021e9b9c] Finished in 0.072 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [e7466ee6] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [e7466ee6] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [e7466ee6] Finished in 0.066 seconds with exit status 0 (successful).
  INFO [f80f5356] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [f80f5356] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [f80f5356] 	Fetching origin
 DEBUG [f80f5356] 	From github.com:SlideMark/fudan_coffee
   9be946f..64e7e2d  master     -> master
  INFO [f80f5356] Finished in 13.597 seconds with exit status 0 (successful).
 DEBUG [b99f3ed1] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [b99f3ed1] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [b99f3ed1] Finished in 0.071 seconds with exit status 0 (successful).
  INFO [2f30d35b] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918111853 as fudan_coffee@115.28.174.126
 DEBUG [2f30d35b] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160918111853 )
  INFO [2f30d35b] Finished in 0.073 seconds with exit status 0 (successful).
  INFO [f1f4a22e] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918111853 as fudan_coffee@115.28.174.126
 DEBUG [f1f4a22e] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160918111853 )
  INFO [f1f4a22e] Finished in 0.084 seconds with exit status 0 (successful).
 DEBUG [0c0824c4] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [0c0824c4] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [0c0824c4] Finished in 0.081 seconds with exit status 0 (successful).
 DEBUG [05496273] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [05496273] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [05496273] 	64e7e2dbcd1e3a4e85245331877daf1c717488b8
 DEBUG [05496273] Finished in 0.076 seconds with exit status 0 (successful).
 DEBUG [0d73147e] Running if test ! -d /home/fudan_coffee/deploy/releases/20160918111853; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918111853'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [0d73147e] Command: if test ! -d /home/fudan_coffee/deploy/releases/20160918111853; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160918111853'" 1>&2; false; fi
 DEBUG [0d73147e] Finished in 0.086 seconds with exit status 0 (successful).
  INFO [bf512278] Running /usr/bin/env echo "64e7e2dbcd1e3a4e85245331877daf1c717488b8" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [bf512278] Command: cd /home/fudan_coffee/deploy/releases/20160918111853 && /usr/bin/env echo "64e7e2dbcd1e3a4e85245331877daf1c717488b8" >> REVISION
  INFO [bf512278] Finished in 0.100 seconds with exit status 0 (successful).
  INFO [f280a8d7] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918111853 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [f280a8d7] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160918111853 /home/fudan_coffee/deploy/releases/current
  INFO [f280a8d7] Finished in 0.074 seconds with exit status 0 (successful).
  INFO [6bcdbce2] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [6bcdbce2] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [6bcdbce2] Finished in 0.079 seconds with exit status 0 (successful).
  INFO [c222ec69] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918111853 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [c222ec69] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918111853 && pip install -r doc/requirements.txt
 DEBUG [c222ec69] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [c222ec69] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [c222ec69] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [c222ec69] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [c222ec69] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [c222ec69] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [c222ec69] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [c222ec69] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [c222ec69] Finished in 0.536 seconds with exit status 0 (successful).
  INFO [4df20d57] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918111853 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [4df20d57] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160918111853 && python script/migration.py
  INFO [4df20d57] Finished in 0.212 seconds with exit status 0 (successful).
  INFO [6c296572] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [6c296572] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [6c296572] 	coffee: stopped
coffee: started
  INFO [6c296572] Finished in 1.644 seconds with exit status 0 (successful).
 DEBUG [ca47cb15] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [ca47cb15] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [ca47cb15] 	20160918092337	20160918092808	20160918092907	20160918101213	20160918111449
20160918111853
 DEBUG [ca47cb15] Finished in 0.084 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [07342b98] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918092337 as fudan_coffee@115.28.174.126
 DEBUG [07342b98] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160918092337
  INFO [07342b98] Finished in 0.079 seconds with exit status 0 (successful).
 DEBUG [0b4f2eeb] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [0b4f2eeb] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [0b4f2eeb] Finished in 0.072 seconds with exit status 0 (successful).
  INFO [b82c4cf7] Running /usr/bin/env echo "Branch master (at 64e7e2dbcd1e3a4e85245331877daf1c717488b8) deployed as release 20160918111853 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [b82c4cf7] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at 64e7e2dbcd1e3a4e85245331877daf1c717488b8) deployed as release 20160918111853 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [b82c4cf7] Finished in 0.071 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-09-26 17:30:52 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [de9795c3] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [de9795c3] Command: /usr/bin/env mkdir -p /tmp
  INFO [de9795c3] Finished in 0.455 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [157ebfff] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [157ebfff] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [157ebfff] Finished in 0.080 seconds with exit status 0 (successful).
  INFO [87b6fa7b] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [87b6fa7b] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [87b6fa7b] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
38bcc0c2bf315515a62158638c77dfa8b65790ad	refs/heads/master
  INFO [87b6fa7b] Finished in 5.964 seconds with exit status 0 (successful).
  INFO [6ea18758] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [6ea18758] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [6ea18758] Finished in 0.078 seconds with exit status 0 (successful).
 DEBUG [e391dfd1] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [e391dfd1] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [e391dfd1] Finished in 0.069 seconds with exit status 0 (successful).
 DEBUG [5e72ec4a] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [5e72ec4a] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [5e72ec4a] 	6e2429d
 DEBUG [5e72ec4a] Finished in 0.069 seconds with exit status 0 (successful).
 DEBUG [cb01cd93] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [cb01cd93] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [cb01cd93] Finished in 0.072 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [bfe51265] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [bfe51265] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [bfe51265] Finished in 0.072 seconds with exit status 0 (successful).
  INFO [046266c4] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [046266c4] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [046266c4] 	Fetching origin
 DEBUG [046266c4] 	From github.com:SlideMark/fudan_coffee
   6e2429d..38bcc0c  master     -> master
  INFO [046266c4] Finished in 6.736 seconds with exit status 0 (successful).
 DEBUG [abcab5e9] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [abcab5e9] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [abcab5e9] Finished in 0.070 seconds with exit status 0 (successful).
  INFO [a7e65a18] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160926093059 as fudan_coffee@115.28.174.126
 DEBUG [a7e65a18] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160926093059 )
  INFO [a7e65a18] Finished in 0.070 seconds with exit status 0 (successful).
  INFO [4a70dcd9] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160926093059 as fudan_coffee@115.28.174.126
 DEBUG [4a70dcd9] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160926093059 )
  INFO [4a70dcd9] Finished in 0.100 seconds with exit status 0 (successful).
 DEBUG [b7a0743f] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [b7a0743f] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [b7a0743f] Finished in 0.115 seconds with exit status 0 (successful).
 DEBUG [41ebc53e] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [41ebc53e] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [41ebc53e] 	38bcc0c2bf315515a62158638c77dfa8b65790ad
 DEBUG [41ebc53e] Finished in 0.080 seconds with exit status 0 (successful).
 DEBUG [03b70d59] Running if test ! -d /home/fudan_coffee/deploy/releases/20160926093059; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160926093059'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [03b70d59] Command: if test ! -d /home/fudan_coffee/deploy/releases/20160926093059; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160926093059'" 1>&2; false; fi
 DEBUG [03b70d59] Finished in 0.069 seconds with exit status 0 (successful).
  INFO [6efb2a92] Running /usr/bin/env echo "38bcc0c2bf315515a62158638c77dfa8b65790ad" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [6efb2a92] Command: cd /home/fudan_coffee/deploy/releases/20160926093059 && /usr/bin/env echo "38bcc0c2bf315515a62158638c77dfa8b65790ad" >> REVISION
  INFO [6efb2a92] Finished in 0.082 seconds with exit status 0 (successful).
  INFO [86f945ac] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160926093059 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [86f945ac] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160926093059 /home/fudan_coffee/deploy/releases/current
  INFO [86f945ac] Finished in 0.074 seconds with exit status 0 (successful).
  INFO [44b49f6f] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [44b49f6f] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [44b49f6f] Finished in 0.079 seconds with exit status 0 (successful).
  INFO [3cb2a068] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160926093059 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [3cb2a068] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160926093059 && pip install -r doc/requirements.txt
 DEBUG [3cb2a068] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [3cb2a068] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [3cb2a068] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [3cb2a068] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [3cb2a068] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [3cb2a068] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [3cb2a068] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [3cb2a068] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [3cb2a068] Finished in 0.555 seconds with exit status 0 (successful).
  INFO [80b13a5a] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160926093059 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [80b13a5a] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160926093059 && python script/migration.py
  INFO [80b13a5a] Finished in 0.217 seconds with exit status 0 (successful).
  INFO [a26aebcf] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [a26aebcf] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [a26aebcf] 	coffee: stopped
coffee: started
  INFO [a26aebcf] Finished in 1.813 seconds with exit status 0 (successful).
 DEBUG [3eb183e2] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [3eb183e2] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [3eb183e2] 	20160926083545	20160926083700	20160926083905	20160926085008	20160926085156
20160926093059
 DEBUG [3eb183e2] Finished in 0.064 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [4442c918] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160926083545 as fudan_coffee@115.28.174.126
 DEBUG [4442c918] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160926083545
  INFO [4442c918] Finished in 0.069 seconds with exit status 0 (successful).
 DEBUG [92550be2] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [92550be2] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [92550be2] Finished in 0.070 seconds with exit status 0 (successful).
  INFO [76cfac3a] Running /usr/bin/env echo "Branch master (at 38bcc0c2bf315515a62158638c77dfa8b65790ad) deployed as release 20160926093059 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [76cfac3a] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at 38bcc0c2bf315515a62158638c77dfa8b65790ad) deployed as release 20160926093059 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [76cfac3a] Finished in 0.062 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-09-26 17:42:17 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [28a8bd30] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [28a8bd30] Command: /usr/bin/env mkdir -p /tmp
  INFO [28a8bd30] Finished in 0.508 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [c6a392bb] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [c6a392bb] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [c6a392bb] Finished in 0.069 seconds with exit status 0 (successful).
  INFO [c8bea98c] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [c8bea98c] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [c8bea98c] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
6a88c4a9c54d41178a8f757db6e5f78e5896f809	refs/heads/master
  INFO [c8bea98c] Finished in 7.823 seconds with exit status 0 (successful).
  INFO [9e790af1] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [9e790af1] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [9e790af1] Finished in 0.076 seconds with exit status 0 (successful).
 DEBUG [f10f3ee9] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [f10f3ee9] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [f10f3ee9] Finished in 0.057 seconds with exit status 0 (successful).
 DEBUG [a99b1005] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [a99b1005] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [a99b1005] 	38bcc0c2bf315515a62158638c77dfa8b65790ad
 DEBUG [a99b1005] Finished in 0.071 seconds with exit status 0 (successful).
 DEBUG [804e1677] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [804e1677] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [804e1677] Finished in 0.058 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [c48b09fd] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [c48b09fd] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [c48b09fd] Finished in 0.060 seconds with exit status 0 (successful).
  INFO [5e5049dd] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [5e5049dd] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [5e5049dd] 	Fetching origin
 DEBUG [5e5049dd] 	From github.com:SlideMark/fudan_coffee
   38bcc0c..6a88c4a  master     -> master
  INFO [5e5049dd] Finished in 9.040 seconds with exit status 0 (successful).
 DEBUG [81dcfc59] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [81dcfc59] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [81dcfc59] Finished in 0.055 seconds with exit status 0 (successful).
  INFO [9d6c5a1f] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160926094226 as fudan_coffee@115.28.174.126
 DEBUG [9d6c5a1f] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160926094226 )
  INFO [9d6c5a1f] Finished in 0.063 seconds with exit status 0 (successful).
  INFO [c5a37684] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160926094226 as fudan_coffee@115.28.174.126
 DEBUG [c5a37684] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160926094226 )
  INFO [c5a37684] Finished in 0.079 seconds with exit status 0 (successful).
 DEBUG [9eee9b7d] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [9eee9b7d] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [9eee9b7d] Finished in 0.057 seconds with exit status 0 (successful).
 DEBUG [65decd3a] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [65decd3a] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [65decd3a] 	6a88c4a9c54d41178a8f757db6e5f78e5896f809
 DEBUG [65decd3a] Finished in 0.068 seconds with exit status 0 (successful).
 DEBUG [6a438156] Running if test ! -d /home/fudan_coffee/deploy/releases/20160926094226; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160926094226'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [6a438156] Command: if test ! -d /home/fudan_coffee/deploy/releases/20160926094226; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160926094226'" 1>&2; false; fi
 DEBUG [6a438156] Finished in 0.058 seconds with exit status 0 (successful).
  INFO [bbe417a3] Running /usr/bin/env echo "6a88c4a9c54d41178a8f757db6e5f78e5896f809" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [bbe417a3] Command: cd /home/fudan_coffee/deploy/releases/20160926094226 && /usr/bin/env echo "6a88c4a9c54d41178a8f757db6e5f78e5896f809" >> REVISION
  INFO [bbe417a3] Finished in 0.081 seconds with exit status 0 (successful).
  INFO [f2555585] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160926094226 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [f2555585] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160926094226 /home/fudan_coffee/deploy/releases/current
  INFO [f2555585] Finished in 0.068 seconds with exit status 0 (successful).
  INFO [0e7376b7] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [0e7376b7] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [0e7376b7] Finished in 0.060 seconds with exit status 0 (successful).
  INFO [d45da4ca] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160926094226 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [d45da4ca] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160926094226 && pip install -r doc/requirements.txt
 DEBUG [d45da4ca] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [d45da4ca] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [d45da4ca] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [d45da4ca] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [d45da4ca] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [d45da4ca] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [d45da4ca] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [d45da4ca] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [d45da4ca] Finished in 0.541 seconds with exit status 0 (successful).
  INFO [02f31017] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160926094226 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [02f31017] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160926094226 && python script/migration.py
  INFO [02f31017] Finished in 0.208 seconds with exit status 0 (successful).
  INFO [2b286397] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [2b286397] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [2b286397] 	coffee: stopped
coffee: started
  INFO [2b286397] Finished in 1.641 seconds with exit status 0 (successful).
 DEBUG [8a1d3f39] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [8a1d3f39] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [8a1d3f39] 	20160926083700	20160926083905	20160926085008	20160926085156	20160926093059
20160926094226
 DEBUG [8a1d3f39] Finished in 0.066 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [1f375f92] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160926083700 as fudan_coffee@115.28.174.126
 DEBUG [1f375f92] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160926083700
  INFO [1f375f92] Finished in 0.069 seconds with exit status 0 (successful).
 DEBUG [41dd8797] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [41dd8797] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [41dd8797] Finished in 0.058 seconds with exit status 0 (successful).
  INFO [58ddc703] Running /usr/bin/env echo "Branch master (at 6a88c4a9c54d41178a8f757db6e5f78e5896f809) deployed as release 20160926094226 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [58ddc703] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at 6a88c4a9c54d41178a8f757db6e5f78e5896f809) deployed as release 20160926094226 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [58ddc703] Finished in 0.062 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-09-26 17:48:34 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [40373081] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [40373081] Command: /usr/bin/env mkdir -p /tmp
  INFO [40373081] Finished in 0.555 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [fc88974b] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [fc88974b] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [fc88974b] Finished in 0.080 seconds with exit status 0 (successful).
  INFO [1dd6cd0a] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [1dd6cd0a] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [1dd6cd0a] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
60457c9a576b87357cc9949e031c97b98685393a	refs/heads/master
  INFO [1dd6cd0a] Finished in 23.661 seconds with exit status 0 (successful).
  INFO [1becbb07] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [1becbb07] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [1becbb07] Finished in 0.079 seconds with exit status 0 (successful).
 DEBUG [519e8975] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [519e8975] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [519e8975] Finished in 0.090 seconds with exit status 0 (successful).
 DEBUG [acaa8f90] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [acaa8f90] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [acaa8f90] 	6a88c4a9c54d41178a8f757db6e5f78e5896f809
 DEBUG [acaa8f90] Finished in 0.102 seconds with exit status 0 (successful).
 DEBUG [a88e87a0] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [a88e87a0] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [a88e87a0] Finished in 0.071 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [cbbab627] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [cbbab627] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [cbbab627] Finished in 0.072 seconds with exit status 0 (successful).
  INFO [140d4d10] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [140d4d10] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [140d4d10] 	Fetching origin
 DEBUG [140d4d10] 	From github.com:SlideMark/fudan_coffee
   6a88c4a..60457c9  master     -> master
  INFO [140d4d10] Finished in 45.542 seconds with exit status 0 (successful).
 DEBUG [86e9946f] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [86e9946f] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [86e9946f] Finished in 0.079 seconds with exit status 0 (successful).
  INFO [d0e3ece9] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160926094859 as fudan_coffee@115.28.174.126
 DEBUG [d0e3ece9] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160926094859 )
  INFO [d0e3ece9] Finished in 0.078 seconds with exit status 0 (successful).
  INFO [edc3deae] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160926094859 as fudan_coffee@115.28.174.126
 DEBUG [edc3deae] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160926094859 )
  INFO [edc3deae] Finished in 0.097 seconds with exit status 0 (successful).
 DEBUG [e04a66e1] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [e04a66e1] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [e04a66e1] Finished in 0.066 seconds with exit status 0 (successful).
 DEBUG [4c29dee2] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [4c29dee2] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [4c29dee2] 	60457c9a576b87357cc9949e031c97b98685393a
 DEBUG [4c29dee2] Finished in 0.077 seconds with exit status 0 (successful).
 DEBUG [c8a16da1] Running if test ! -d /home/fudan_coffee/deploy/releases/20160926094859; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160926094859'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [c8a16da1] Command: if test ! -d /home/fudan_coffee/deploy/releases/20160926094859; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160926094859'" 1>&2; false; fi
 DEBUG [c8a16da1] Finished in 0.062 seconds with exit status 0 (successful).
  INFO [51dce9bc] Running /usr/bin/env echo "60457c9a576b87357cc9949e031c97b98685393a" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [51dce9bc] Command: cd /home/fudan_coffee/deploy/releases/20160926094859 && /usr/bin/env echo "60457c9a576b87357cc9949e031c97b98685393a" >> REVISION
  INFO [51dce9bc] Finished in 0.071 seconds with exit status 0 (successful).
  INFO [667daa43] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160926094859 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [667daa43] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160926094859 /home/fudan_coffee/deploy/releases/current
  INFO [667daa43] Finished in 0.073 seconds with exit status 0 (successful).
  INFO [7394d4ae] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [7394d4ae] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [7394d4ae] Finished in 0.079 seconds with exit status 0 (successful).
  INFO [b1c54b5f] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160926094859 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [b1c54b5f] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160926094859 && pip install -r doc/requirements.txt
 DEBUG [b1c54b5f] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [b1c54b5f] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [b1c54b5f] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [b1c54b5f] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [b1c54b5f] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [b1c54b5f] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [b1c54b5f] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [b1c54b5f] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [b1c54b5f] Finished in 0.563 seconds with exit status 0 (successful).
  INFO [4855678e] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160926094859 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [4855678e] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160926094859 && python script/migration.py
  INFO [4855678e] Finished in 0.225 seconds with exit status 0 (successful).
  INFO [6b481870] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [6b481870] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [6b481870] 	coffee: stopped
coffee: started
  INFO [6b481870] Finished in 1.860 seconds with exit status 0 (successful).
 DEBUG [13e0a0e3] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [13e0a0e3] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [13e0a0e3] 	20160926083905	20160926085008	20160926085156	20160926093059	20160926094226
20160926094859
 DEBUG [13e0a0e3] Finished in 0.079 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [7fe60f1a] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160926083905 as fudan_coffee@115.28.174.126
 DEBUG [7fe60f1a] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160926083905
  INFO [7fe60f1a] Finished in 0.079 seconds with exit status 0 (successful).
 DEBUG [5eff4377] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [5eff4377] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [5eff4377] Finished in 0.070 seconds with exit status 0 (successful).
  INFO [3ba48365] Running /usr/bin/env echo "Branch master (at 60457c9a576b87357cc9949e031c97b98685393a) deployed as release 20160926094859 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [3ba48365] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at 60457c9a576b87357cc9949e031c97b98685393a) deployed as release 20160926094859 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [3ba48365] Finished in 0.069 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-09-26 17:52:25 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [2fc47ade] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [2fc47ade] Command: /usr/bin/env mkdir -p /tmp
  INFO [2fc47ade] Finished in 0.385 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [be157a08] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [be157a08] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [be157a08] Finished in 0.079 seconds with exit status 0 (successful).
  INFO [45bf3a6d] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [45bf3a6d] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [45bf3a6d] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
87a60241317e56b7b293f465b5d3cf5061607b4a	refs/heads/master
  INFO [45bf3a6d] Finished in 9.966 seconds with exit status 0 (successful).
  INFO [0804a32b] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [0804a32b] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [0804a32b] Finished in 0.084 seconds with exit status 0 (successful).
 DEBUG [8d2f0f2a] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [8d2f0f2a] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [8d2f0f2a] Finished in 0.075 seconds with exit status 0 (successful).
 DEBUG [7d56d3b0] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [7d56d3b0] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [7d56d3b0] 	60457c9a576b87357cc9949e031c97b98685393a
 DEBUG [7d56d3b0] Finished in 0.091 seconds with exit status 0 (successful).
 DEBUG [60537462] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [60537462] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [60537462] Finished in 0.078 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [31da8b7c] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [31da8b7c] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [31da8b7c] Finished in 0.079 seconds with exit status 0 (successful).
  INFO [01e66211] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [01e66211] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [01e66211] 	Fetching origin
 DEBUG [01e66211] 	From github.com:SlideMark/fudan_coffee
   60457c9..87a6024  master     -> master
  INFO [01e66211] Finished in 7.511 seconds with exit status 0 (successful).
 DEBUG [8e900dcc] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [8e900dcc] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [8e900dcc] Finished in 0.080 seconds with exit status 0 (successful).
  INFO [9a215136] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160926095237 as fudan_coffee@115.28.174.126
 DEBUG [9a215136] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160926095237 )
  INFO [9a215136] Finished in 0.079 seconds with exit status 0 (successful).
  INFO [4aaa09d7] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160926095237 as fudan_coffee@115.28.174.126
 DEBUG [4aaa09d7] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160926095237 )
  INFO [4aaa09d7] Finished in 0.102 seconds with exit status 0 (successful).
 DEBUG [59f5a7d4] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [59f5a7d4] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [59f5a7d4] Finished in 0.074 seconds with exit status 0 (successful).
 DEBUG [3dc32e47] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [3dc32e47] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [3dc32e47] 	87a60241317e56b7b293f465b5d3cf5061607b4a
 DEBUG [3dc32e47] Finished in 0.090 seconds with exit status 0 (successful).
 DEBUG [947c8708] Running if test ! -d /home/fudan_coffee/deploy/releases/20160926095237; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160926095237'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [947c8708] Command: if test ! -d /home/fudan_coffee/deploy/releases/20160926095237; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160926095237'" 1>&2; false; fi
 DEBUG [947c8708] Finished in 0.081 seconds with exit status 0 (successful).
  INFO [7a2519e5] Running /usr/bin/env echo "87a60241317e56b7b293f465b5d3cf5061607b4a" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [7a2519e5] Command: cd /home/fudan_coffee/deploy/releases/20160926095237 && /usr/bin/env echo "87a60241317e56b7b293f465b5d3cf5061607b4a" >> REVISION
  INFO [7a2519e5] Finished in 0.079 seconds with exit status 0 (successful).
  INFO [ac9e46b2] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160926095237 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [ac9e46b2] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160926095237 /home/fudan_coffee/deploy/releases/current
  INFO [ac9e46b2] Finished in 0.085 seconds with exit status 0 (successful).
  INFO [bba8877c] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [bba8877c] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [bba8877c] Finished in 0.090 seconds with exit status 0 (successful).
  INFO [9fb9c5d6] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160926095237 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [9fb9c5d6] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160926095237 && pip install -r doc/requirements.txt
 DEBUG [9fb9c5d6] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [9fb9c5d6] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [9fb9c5d6] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [9fb9c5d6] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [9fb9c5d6] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [9fb9c5d6] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [9fb9c5d6] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [9fb9c5d6] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [9fb9c5d6] Finished in 0.585 seconds with exit status 0 (successful).
  INFO [fbec894c] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160926095237 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [fbec894c] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160926095237 && python script/migration.py
  INFO [fbec894c] Finished in 0.211 seconds with exit status 0 (successful).
  INFO [61187dec] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [61187dec] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [61187dec] 	coffee: stopped
coffee: started
  INFO [61187dec] Finished in 1.773 seconds with exit status 0 (successful).
 DEBUG [f2de5e29] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [f2de5e29] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [f2de5e29] 	20160926085008	20160926085156	20160926093059	20160926094226	20160926094859
20160926095237
 DEBUG [f2de5e29] Finished in 0.086 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [c29deef1] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160926085008 as fudan_coffee@115.28.174.126
 DEBUG [c29deef1] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160926085008
  INFO [c29deef1] Finished in 0.089 seconds with exit status 0 (successful).
 DEBUG [563545b4] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [563545b4] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [563545b4] Finished in 0.086 seconds with exit status 0 (successful).
  INFO [441162bb] Running /usr/bin/env echo "Branch master (at 87a60241317e56b7b293f465b5d3cf5061607b4a) deployed as release 20160926095237 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [441162bb] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at 87a60241317e56b7b293f465b5d3cf5061607b4a) deployed as release 20160926095237 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [441162bb] Finished in 0.074 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-09-27 11:39:52 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [be862bc4] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [be862bc4] Command: /usr/bin/env mkdir -p /tmp
  INFO [be862bc4] Finished in 0.388 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [73a7ffe2] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [73a7ffe2] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [73a7ffe2] Finished in 0.079 seconds with exit status 0 (successful).
  INFO [f9aaed24] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [f9aaed24] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [f9aaed24] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
7d8706a33c1d54b29d7afbb9e713b8784b6b5892	refs/heads/master
  INFO [f9aaed24] Finished in 5.929 seconds with exit status 0 (successful).
  INFO [69a405ba] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [69a405ba] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [69a405ba] Finished in 0.075 seconds with exit status 0 (successful).
 DEBUG [02a1e186] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [02a1e186] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [02a1e186] Finished in 0.071 seconds with exit status 0 (successful).
 DEBUG [f6c42be1] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [f6c42be1] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [f6c42be1] 	01da02d
 DEBUG [f6c42be1] Finished in 0.077 seconds with exit status 0 (successful).
 DEBUG [88eef872] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [88eef872] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [88eef872] Finished in 0.070 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [edde8c4e] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [edde8c4e] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [edde8c4e] Finished in 0.067 seconds with exit status 0 (successful).
  INFO [1ca779cc] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [1ca779cc] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [1ca779cc] 	Fetching origin
 DEBUG [1ca779cc] 	From github.com:SlideMark/fudan_coffee
   01da02d..7d8706a  master     -> master
  INFO [1ca779cc] Finished in 16.944 seconds with exit status 0 (successful).
 DEBUG [290890de] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [290890de] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [290890de] Finished in 0.071 seconds with exit status 0 (successful).
  INFO [923da203] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160927033959 as fudan_coffee@115.28.174.126
 DEBUG [923da203] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160927033959 )
  INFO [923da203] Finished in 0.078 seconds with exit status 0 (successful).
  INFO [eb865aef] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160927033959 as fudan_coffee@115.28.174.126
 DEBUG [eb865aef] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160927033959 )
  INFO [eb865aef] Finished in 0.094 seconds with exit status 0 (successful).
 DEBUG [546a10a3] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [546a10a3] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [546a10a3] Finished in 0.054 seconds with exit status 0 (successful).
 DEBUG [fea91369] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [fea91369] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [fea91369] 	7d8706a33c1d54b29d7afbb9e713b8784b6b5892
 DEBUG [fea91369] Finished in 0.079 seconds with exit status 0 (successful).
 DEBUG [6e928a0f] Running if test ! -d /home/fudan_coffee/deploy/releases/20160927033959; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160927033959'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [6e928a0f] Command: if test ! -d /home/fudan_coffee/deploy/releases/20160927033959; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160927033959'" 1>&2; false; fi
 DEBUG [6e928a0f] Finished in 0.074 seconds with exit status 0 (successful).
  INFO [6142df45] Running /usr/bin/env echo "7d8706a33c1d54b29d7afbb9e713b8784b6b5892" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [6142df45] Command: cd /home/fudan_coffee/deploy/releases/20160927033959 && /usr/bin/env echo "7d8706a33c1d54b29d7afbb9e713b8784b6b5892" >> REVISION
  INFO [6142df45] Finished in 0.075 seconds with exit status 0 (successful).
  INFO [b46a71e0] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160927033959 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [b46a71e0] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160927033959 /home/fudan_coffee/deploy/releases/current
  INFO [b46a71e0] Finished in 0.079 seconds with exit status 0 (successful).
  INFO [646fd1b8] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [646fd1b8] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [646fd1b8] Finished in 0.078 seconds with exit status 0 (successful).
  INFO [ff15a0e3] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927033959 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [ff15a0e3] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927033959 && pip install -r doc/requirements.txt
 DEBUG [ff15a0e3] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [ff15a0e3] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [ff15a0e3] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [ff15a0e3] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [ff15a0e3] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [ff15a0e3] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [ff15a0e3] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [ff15a0e3] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [ff15a0e3] Finished in 0.585 seconds with exit status 0 (successful).
  INFO [aaf07df8] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927033959 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [aaf07df8] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927033959 && python script/migration.py
  INFO [aaf07df8] Finished in 0.228 seconds with exit status 0 (successful).
  INFO [8bc1426a] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [8bc1426a] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [8bc1426a] 	coffee: stopped
coffee: started
  INFO [8bc1426a] Finished in 1.859 seconds with exit status 0 (successful).
 DEBUG [16147ce9] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [16147ce9] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [16147ce9] 	20160926153639	20160926155036	20160927012858	20160927030759	20160927033851
20160927033959
 DEBUG [16147ce9] Finished in 0.070 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [7bee6f3e] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160926153639 as fudan_coffee@115.28.174.126
 DEBUG [7bee6f3e] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160926153639
  INFO [7bee6f3e] Finished in 0.079 seconds with exit status 0 (successful).
 DEBUG [9ded9bea] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [9ded9bea] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [9ded9bea] Finished in 0.070 seconds with exit status 0 (successful).
  INFO [a2d5b167] Running /usr/bin/env echo "Branch master (at 7d8706a33c1d54b29d7afbb9e713b8784b6b5892) deployed as release 20160927033959 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [a2d5b167] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at 7d8706a33c1d54b29d7afbb9e713b8784b6b5892) deployed as release 20160927033959 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [a2d5b167] Finished in 0.074 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-09-27 11:41:19 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [91d8d893] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [91d8d893] Command: /usr/bin/env mkdir -p /tmp
  INFO [91d8d893] Finished in 0.542 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [7a83efe2] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [7a83efe2] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [7a83efe2] Finished in 0.070 seconds with exit status 0 (successful).
  INFO [a7dc6508] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [a7dc6508] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [a7dc6508] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
86c2d5e5be846afbac0b9c9c5869dbb739f25fd3	refs/heads/master
  INFO [a7dc6508] Finished in 5.781 seconds with exit status 0 (successful).
  INFO [9245e37b] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [9245e37b] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [9245e37b] Finished in 0.067 seconds with exit status 0 (successful).
 DEBUG [26ef932d] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [26ef932d] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [26ef932d] Finished in 0.059 seconds with exit status 0 (successful).
 DEBUG [0dda4955] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [0dda4955] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [0dda4955] 	7d8706a33c1d54b29d7afbb9e713b8784b6b5892
 DEBUG [0dda4955] Finished in 0.059 seconds with exit status 0 (successful).
 DEBUG [fc24bfef] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [fc24bfef] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [fc24bfef] Finished in 0.059 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [cdb0ac45] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [cdb0ac45] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [cdb0ac45] Finished in 0.056 seconds with exit status 0 (successful).
  INFO [d47b82fc] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [d47b82fc] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [d47b82fc] 	Fetching origin
 DEBUG [d47b82fc] 	From github.com:SlideMark/fudan_coffee
   7d8706a..86c2d5e  master     -> master
  INFO [d47b82fc] Finished in 6.426 seconds with exit status 0 (successful).
 DEBUG [c17881a8] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [c17881a8] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [c17881a8] Finished in 0.054 seconds with exit status 0 (successful).
  INFO [8ad50d52] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160927034126 as fudan_coffee@115.28.174.126
 DEBUG [8ad50d52] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160927034126 )
  INFO [8ad50d52] Finished in 0.063 seconds with exit status 0 (successful).
  INFO [40e09412] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160927034126 as fudan_coffee@115.28.174.126
 DEBUG [40e09412] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160927034126 )
  INFO [40e09412] Finished in 0.080 seconds with exit status 0 (successful).
 DEBUG [87fbecc8] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [87fbecc8] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [87fbecc8] Finished in 0.056 seconds with exit status 0 (successful).
 DEBUG [25bacf15] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [25bacf15] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [25bacf15] 	86c2d5e5be846afbac0b9c9c5869dbb739f25fd3
 DEBUG [25bacf15] Finished in 0.069 seconds with exit status 0 (successful).
 DEBUG [859e3b34] Running if test ! -d /home/fudan_coffee/deploy/releases/20160927034126; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160927034126'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [859e3b34] Command: if test ! -d /home/fudan_coffee/deploy/releases/20160927034126; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160927034126'" 1>&2; false; fi
 DEBUG [859e3b34] Finished in 0.059 seconds with exit status 0 (successful).
  INFO [4503a80c] Running /usr/bin/env echo "86c2d5e5be846afbac0b9c9c5869dbb739f25fd3" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [4503a80c] Command: cd /home/fudan_coffee/deploy/releases/20160927034126 && /usr/bin/env echo "86c2d5e5be846afbac0b9c9c5869dbb739f25fd3" >> REVISION
  INFO [4503a80c] Finished in 0.059 seconds with exit status 0 (successful).
  INFO [69ba1135] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160927034126 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [69ba1135] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160927034126 /home/fudan_coffee/deploy/releases/current
  INFO [69ba1135] Finished in 0.068 seconds with exit status 0 (successful).
  INFO [06ec24ff] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [06ec24ff] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [06ec24ff] Finished in 0.059 seconds with exit status 0 (successful).
  INFO [0d14ed0c] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927034126 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [0d14ed0c] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927034126 && pip install -r doc/requirements.txt
 DEBUG [0d14ed0c] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [0d14ed0c] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [0d14ed0c] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [0d14ed0c] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [0d14ed0c] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [0d14ed0c] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [0d14ed0c] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [0d14ed0c] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [0d14ed0c] Finished in 0.538 seconds with exit status 0 (successful).
  INFO [2f724253] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927034126 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [2f724253] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927034126 && python script/migration.py
  INFO [2f724253] Finished in 0.203 seconds with exit status 0 (successful).
  INFO [e25121ad] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [e25121ad] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [e25121ad] 	coffee: stopped
coffee: started
  INFO [e25121ad] Finished in 1.637 seconds with exit status 0 (successful).
 DEBUG [4357f80e] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [4357f80e] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [4357f80e] 	20160926155036	20160927012858	20160927030759	20160927033851	20160927033959
20160927034126
 DEBUG [4357f80e] Finished in 0.063 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [34728541] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160926155036 as fudan_coffee@115.28.174.126
 DEBUG [34728541] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160926155036
  INFO [34728541] Finished in 0.069 seconds with exit status 0 (successful).
 DEBUG [abb988ed] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [abb988ed] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [abb988ed] Finished in 0.059 seconds with exit status 0 (successful).
  INFO [5975f3f5] Running /usr/bin/env echo "Branch master (at 86c2d5e5be846afbac0b9c9c5869dbb739f25fd3) deployed as release 20160927034126 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [5975f3f5] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at 86c2d5e5be846afbac0b9c9c5869dbb739f25fd3) deployed as release 20160927034126 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [5975f3f5] Finished in 0.057 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-09-27 12:12:50 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [e62013b1] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [e62013b1] Command: /usr/bin/env mkdir -p /tmp
  INFO [e62013b1] Finished in 0.466 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [f689894a] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [f689894a] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [f689894a] Finished in 0.069 seconds with exit status 0 (successful).
  INFO [7cf1eaf4] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [7cf1eaf4] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [7cf1eaf4] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
2b55635afaba39cc8e31a5f25abb78a54b5405e0	refs/heads/master
  INFO [7cf1eaf4] Finished in 4.907 seconds with exit status 0 (successful).
  INFO [0baacef9] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [0baacef9] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [0baacef9] Finished in 0.080 seconds with exit status 0 (successful).
 DEBUG [96e0ab31] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [96e0ab31] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [96e0ab31] Finished in 0.070 seconds with exit status 0 (successful).
 DEBUG [c7cc872f] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [c7cc872f] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [c7cc872f] 	a062fc3
 DEBUG [c7cc872f] Finished in 0.067 seconds with exit status 0 (successful).
 DEBUG [17687abd] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [17687abd] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [17687abd] Finished in 0.069 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [ec0a8801] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [ec0a8801] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [ec0a8801] Finished in 0.063 seconds with exit status 0 (successful).
  INFO [2de07770] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [2de07770] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [2de07770] 	Fetching origin
 DEBUG [2de07770] 	From github.com:SlideMark/fudan_coffee
 DEBUG [2de07770] 	   a062fc3..2b55635  master     -> master
  INFO [2de07770] Finished in 7.478 seconds with exit status 0 (successful).
 DEBUG [4a72b810] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [4a72b810] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [4a72b810] Finished in 0.065 seconds with exit status 0 (successful).
  INFO [99dd8046] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160927041257 as fudan_coffee@115.28.174.126
 DEBUG [99dd8046] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160927041257 )
  INFO [99dd8046] Finished in 0.068 seconds with exit status 0 (successful).
  INFO [38376e8d] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160927041257 as fudan_coffee@115.28.174.126
 DEBUG [38376e8d] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160927041257 )
  INFO [38376e8d] Finished in 0.080 seconds with exit status 0 (successful).
 DEBUG [166f69d7] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [166f69d7] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [166f69d7] Finished in 0.066 seconds with exit status 0 (successful).
 DEBUG [6ff0a198] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [6ff0a198] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [6ff0a198] 	2b55635afaba39cc8e31a5f25abb78a54b5405e0
 DEBUG [6ff0a198] Finished in 0.079 seconds with exit status 0 (successful).
 DEBUG [cb7aea64] Running if test ! -d /home/fudan_coffee/deploy/releases/20160927041257; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160927041257'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [cb7aea64] Command: if test ! -d /home/fudan_coffee/deploy/releases/20160927041257; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160927041257'" 1>&2; false; fi
 DEBUG [cb7aea64] Finished in 0.070 seconds with exit status 0 (successful).
  INFO [d7330320] Running /usr/bin/env echo "2b55635afaba39cc8e31a5f25abb78a54b5405e0" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [d7330320] Command: cd /home/fudan_coffee/deploy/releases/20160927041257 && /usr/bin/env echo "2b55635afaba39cc8e31a5f25abb78a54b5405e0" >> REVISION
  INFO [d7330320] Finished in 0.060 seconds with exit status 0 (successful).
  INFO [338e0120] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160927041257 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [338e0120] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160927041257 /home/fudan_coffee/deploy/releases/current
  INFO [338e0120] Finished in 0.077 seconds with exit status 0 (successful).
  INFO [9db84981] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [9db84981] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [9db84981] Finished in 0.080 seconds with exit status 0 (successful).
  INFO [59bb9382] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927041257 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [59bb9382] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927041257 && pip install -r doc/requirements.txt
 DEBUG [59bb9382] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [59bb9382] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [59bb9382] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [59bb9382] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [59bb9382] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [59bb9382] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [59bb9382] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [59bb9382] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [59bb9382] Finished in 0.602 seconds with exit status 0 (successful).
  INFO [a7d05dae] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927041257 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [a7d05dae] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927041257 && python script/migration.py
  INFO [a7d05dae] Finished in 0.210 seconds with exit status 0 (successful).
  INFO [392a701b] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [392a701b] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [392a701b] 	coffee: stopped
coffee: started
  INFO [392a701b] Finished in 1.667 seconds with exit status 0 (successful).
 DEBUG [3706f675] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [3706f675] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [3706f675] 	20160927034126	20160927035435	20160927035903	20160927040213	20160927040440
20160927041257
 DEBUG [3706f675] Finished in 0.077 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [73c2ee69] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160927034126 as fudan_coffee@115.28.174.126
 DEBUG [73c2ee69] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160927034126
  INFO [73c2ee69] Finished in 0.079 seconds with exit status 0 (successful).
 DEBUG [179fc901] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [179fc901] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [179fc901] Finished in 0.061 seconds with exit status 0 (successful).
  INFO [c0bd0db5] Running /usr/bin/env echo "Branch master (at 2b55635afaba39cc8e31a5f25abb78a54b5405e0) deployed as release 20160927041257 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [c0bd0db5] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at 2b55635afaba39cc8e31a5f25abb78a54b5405e0) deployed as release 20160927041257 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [c0bd0db5] Finished in 0.071 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-09-27 12:14:00 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [a2610f30] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [a2610f30] Command: /usr/bin/env mkdir -p /tmp
  INFO [a2610f30] Finished in 0.410 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [7f21bcb8] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [7f21bcb8] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [7f21bcb8] Finished in 0.069 seconds with exit status 0 (successful).
  INFO [57f84bb6] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [57f84bb6] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [57f84bb6] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
020feaa8829dd898efd2493ac945b0e5053d60a0	refs/heads/master
  INFO [57f84bb6] Finished in 25.286 seconds with exit status 0 (successful).
  INFO [1d909706] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [1d909706] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [1d909706] Finished in 0.063 seconds with exit status 0 (successful).
 DEBUG [8f8bf43d] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [8f8bf43d] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [8f8bf43d] Finished in 0.059 seconds with exit status 0 (successful).
 DEBUG [207e31d2] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [207e31d2] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [207e31d2] 	2b55635afaba39cc8e31a5f25abb78a54b5405e0
 DEBUG [207e31d2] Finished in 0.069 seconds with exit status 0 (successful).
 DEBUG [0b2cf2d2] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [0b2cf2d2] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [0b2cf2d2] Finished in 0.068 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [712624f6] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [712624f6] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [712624f6] Finished in 0.053 seconds with exit status 0 (successful).
  INFO [533c05d9] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [533c05d9] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [533c05d9] 	Fetching origin
 DEBUG [533c05d9] 	From github.com:SlideMark/fudan_coffee
   2b55635..020feaa  master     -> master
  INFO [533c05d9] Finished in 8.866 seconds with exit status 0 (successful).
 DEBUG [a952cd31] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [a952cd31] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [a952cd31] Finished in 0.056 seconds with exit status 0 (successful).
  INFO [74fce1b0] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160927041427 as fudan_coffee@115.28.174.126
 DEBUG [74fce1b0] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160927041427 )
  INFO [74fce1b0] Finished in 0.066 seconds with exit status 0 (successful).
  INFO [416d9f50] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160927041427 as fudan_coffee@115.28.174.126
 DEBUG [416d9f50] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160927041427 )
  INFO [416d9f50] Finished in 0.084 seconds with exit status 0 (successful).
 DEBUG [a1646756] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [a1646756] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [a1646756] Finished in 0.054 seconds with exit status 0 (successful).
 DEBUG [e9a59c6c] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [e9a59c6c] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [e9a59c6c] 	020feaa8829dd898efd2493ac945b0e5053d60a0
 DEBUG [e9a59c6c] Finished in 0.080 seconds with exit status 0 (successful).
 DEBUG [f6ad516e] Running if test ! -d /home/fudan_coffee/deploy/releases/20160927041427; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160927041427'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [f6ad516e] Command: if test ! -d /home/fudan_coffee/deploy/releases/20160927041427; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160927041427'" 1>&2; false; fi
 DEBUG [f6ad516e] Finished in 0.060 seconds with exit status 0 (successful).
  INFO [d67e7ca8] Running /usr/bin/env echo "020feaa8829dd898efd2493ac945b0e5053d60a0" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [d67e7ca8] Command: cd /home/fudan_coffee/deploy/releases/20160927041427 && /usr/bin/env echo "020feaa8829dd898efd2493ac945b0e5053d60a0" >> REVISION
  INFO [d67e7ca8] Finished in 0.060 seconds with exit status 0 (successful).
  INFO [1821d800] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160927041427 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [1821d800] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160927041427 /home/fudan_coffee/deploy/releases/current
  INFO [1821d800] Finished in 0.057 seconds with exit status 0 (successful).
  INFO [d2bc57e2] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [d2bc57e2] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [d2bc57e2] Finished in 0.060 seconds with exit status 0 (successful).
  INFO [936655b3] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927041427 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [936655b3] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927041427 && pip install -r doc/requirements.txt
 DEBUG [936655b3] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [936655b3] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [936655b3] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [936655b3] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [936655b3] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [936655b3] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [936655b3] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [936655b3] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [936655b3] Finished in 0.560 seconds with exit status 0 (successful).
  INFO [25c08618] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927041427 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [25c08618] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927041427 && python script/migration.py
  INFO [25c08618] Finished in 0.198 seconds with exit status 0 (successful).
  INFO [bf371bd8] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [bf371bd8] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [bf371bd8] 	coffee: stopped
coffee: started
  INFO [bf371bd8] Finished in 1.788 seconds with exit status 0 (successful).
 DEBUG [96b73d4b] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [96b73d4b] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [96b73d4b] 	20160927035435	20160927035903	20160927040213	20160927040440	20160927041257
20160927041427
 DEBUG [96b73d4b] Finished in 0.065 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [da09ef07] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160927035435 as fudan_coffee@115.28.174.126
 DEBUG [da09ef07] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160927035435
  INFO [da09ef07] Finished in 0.069 seconds with exit status 0 (successful).
 DEBUG [b7811f0f] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [b7811f0f] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [b7811f0f] Finished in 0.056 seconds with exit status 0 (successful).
  INFO [2d512e35] Running /usr/bin/env echo "Branch master (at 020feaa8829dd898efd2493ac945b0e5053d60a0) deployed as release 20160927041427 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [2d512e35] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at 020feaa8829dd898efd2493ac945b0e5053d60a0) deployed as release 20160927041427 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [2d512e35] Finished in 0.053 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-09-27 12:31:32 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [b8a486c6] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [b8a486c6] Command: /usr/bin/env mkdir -p /tmp
  INFO [b8a486c6] Finished in 0.354 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [f3d9b71e] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [f3d9b71e] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [f3d9b71e] Finished in 0.060 seconds with exit status 0 (successful).
  INFO [728980cc] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [728980cc] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [728980cc] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
7fb9f002f27539ede514c15919e22ce706b942d4	refs/heads/master
  INFO [728980cc] Finished in 8.340 seconds with exit status 0 (successful).
  INFO [14be9347] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [14be9347] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [14be9347] Finished in 0.059 seconds with exit status 0 (successful).
 DEBUG [7d40c208] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [7d40c208] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [7d40c208] Finished in 0.070 seconds with exit status 0 (successful).
 DEBUG [070d1a93] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [070d1a93] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [070d1a93] 	56112b7
 DEBUG [070d1a93] Finished in 0.070 seconds with exit status 0 (successful).
 DEBUG [81b8a904] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [81b8a904] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [81b8a904] Finished in 0.058 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [c732f0de] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [c732f0de] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [c732f0de] Finished in 0.063 seconds with exit status 0 (successful).
  INFO [257068e5] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [257068e5] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [257068e5] 	Fetching origin
 DEBUG [257068e5] 	From github.com:SlideMark/fudan_coffee
   56112b7..7fb9f00  master     -> master
  INFO [257068e5] Finished in 8.483 seconds with exit status 0 (successful).
 DEBUG [d53db45e] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [d53db45e] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [d53db45e] Finished in 0.068 seconds with exit status 0 (successful).
  INFO [25502665] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160927043141 as fudan_coffee@115.28.174.126
 DEBUG [25502665] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160927043141 )
  INFO [25502665] Finished in 0.061 seconds with exit status 0 (successful).
  INFO [461d299d] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160927043141 as fudan_coffee@115.28.174.126
 DEBUG [461d299d] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160927043141 )
  INFO [461d299d] Finished in 0.081 seconds with exit status 0 (successful).
 DEBUG [2a07d975] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [2a07d975] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [2a07d975] Finished in 0.057 seconds with exit status 0 (successful).
 DEBUG [e4eac14d] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [e4eac14d] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [e4eac14d] 	7fb9f002f27539ede514c15919e22ce706b942d4
 DEBUG [e4eac14d] Finished in 0.080 seconds with exit status 0 (successful).
 DEBUG [c8e1d753] Running if test ! -d /home/fudan_coffee/deploy/releases/20160927043141; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160927043141'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [c8e1d753] Command: if test ! -d /home/fudan_coffee/deploy/releases/20160927043141; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160927043141'" 1>&2; false; fi
 DEBUG [c8e1d753] Finished in 0.059 seconds with exit status 0 (successful).
  INFO [3137601b] Running /usr/bin/env echo "7fb9f002f27539ede514c15919e22ce706b942d4" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [3137601b] Command: cd /home/fudan_coffee/deploy/releases/20160927043141 && /usr/bin/env echo "7fb9f002f27539ede514c15919e22ce706b942d4" >> REVISION
  INFO [3137601b] Finished in 0.070 seconds with exit status 0 (successful).
  INFO [0d0a24e4] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160927043141 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [0d0a24e4] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160927043141 /home/fudan_coffee/deploy/releases/current
  INFO [0d0a24e4] Finished in 0.067 seconds with exit status 0 (successful).
  INFO [198eeb4a] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [198eeb4a] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [198eeb4a] Finished in 0.070 seconds with exit status 0 (successful).
  INFO [853c7d03] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927043141 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [853c7d03] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927043141 && pip install -r doc/requirements.txt
 DEBUG [853c7d03] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [853c7d03] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [853c7d03] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [853c7d03] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [853c7d03] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [853c7d03] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [853c7d03] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [853c7d03] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [853c7d03] Finished in 0.633 seconds with exit status 0 (successful).
  INFO [5c5e748b] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927043141 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [5c5e748b] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927043141 && python script/migration.py
  INFO [5c5e748b] Finished in 0.192 seconds with exit status 0 (successful).
  INFO [37ad7791] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [37ad7791] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [37ad7791] 	coffee: stopped
coffee: started
  INFO [37ad7791] Finished in 1.684 seconds with exit status 0 (successful).
 DEBUG [d873c87e] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [d873c87e] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [d873c87e] 	20160927041257	20160927041427	20160927041505	20160927041731	20160927042510
20160927043141
 DEBUG [d873c87e] Finished in 0.067 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [54e0ecf1] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160927041257 as fudan_coffee@115.28.174.126
 DEBUG [54e0ecf1] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160927041257
  INFO [54e0ecf1] Finished in 0.079 seconds with exit status 0 (successful).
 DEBUG [cfa9b6cf] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [cfa9b6cf] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [cfa9b6cf] Finished in 0.057 seconds with exit status 0 (successful).
  INFO [0b8806c9] Running /usr/bin/env echo "Branch master (at 7fb9f002f27539ede514c15919e22ce706b942d4) deployed as release 20160927043141 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [0b8806c9] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at 7fb9f002f27539ede514c15919e22ce706b942d4) deployed as release 20160927043141 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [0b8806c9] Finished in 0.064 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-09-27 12:34:50 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [f5c928b2] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [f5c928b2] Command: /usr/bin/env mkdir -p /tmp
  INFO [f5c928b2] Finished in 0.450 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [ad732bac] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [ad732bac] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [ad732bac] Finished in 0.082 seconds with exit status 0 (successful).
  INFO [8b74d16e] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [8b74d16e] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [8b74d16e] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
d338349a7733cc0b99eee27fa86b6f6fb13c3d9f	refs/heads/master
  INFO [8b74d16e] Finished in 7.594 seconds with exit status 0 (successful).
  INFO [2003c135] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [2003c135] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [2003c135] Finished in 0.065 seconds with exit status 0 (successful).
 DEBUG [2bef6698] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [2bef6698] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [2bef6698] Finished in 0.068 seconds with exit status 0 (successful).
 DEBUG [abc1fb62] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [abc1fb62] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [abc1fb62] 	7fb9f002f27539ede514c15919e22ce706b942d4
 DEBUG [abc1fb62] Finished in 0.080 seconds with exit status 0 (successful).
 DEBUG [2866e4e7] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [2866e4e7] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [2866e4e7] Finished in 0.059 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [379b285e] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [379b285e] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [379b285e] Finished in 0.068 seconds with exit status 0 (successful).
  INFO [d726b21e] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [d726b21e] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [d726b21e] 	Fetching origin
 DEBUG [d726b21e] 	From github.com:SlideMark/fudan_coffee
   7fb9f00..d338349  master     -> master
  INFO [d726b21e] Finished in 6.173 seconds with exit status 0 (successful).
 DEBUG [c0a15e68] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [c0a15e68] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [c0a15e68] Finished in 0.058 seconds with exit status 0 (successful).
  INFO [1685ac64] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160927043459 as fudan_coffee@115.28.174.126
 DEBUG [1685ac64] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160927043459 )
  INFO [1685ac64] Finished in 0.070 seconds with exit status 0 (successful).
  INFO [843102de] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160927043459 as fudan_coffee@115.28.174.126
 DEBUG [843102de] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160927043459 )
  INFO [843102de] Finished in 0.078 seconds with exit status 0 (successful).
 DEBUG [98218349] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [98218349] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [98218349] Finished in 0.059 seconds with exit status 0 (successful).
 DEBUG [48901c8b] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [48901c8b] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [48901c8b] 	d338349a7733cc0b99eee27fa86b6f6fb13c3d9f
 DEBUG [48901c8b] Finished in 0.067 seconds with exit status 0 (successful).
 DEBUG [2d6b392c] Running if test ! -d /home/fudan_coffee/deploy/releases/20160927043459; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160927043459'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [2d6b392c] Command: if test ! -d /home/fudan_coffee/deploy/releases/20160927043459; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160927043459'" 1>&2; false; fi
 DEBUG [2d6b392c] Finished in 0.058 seconds with exit status 0 (successful).
  INFO [89008fd1] Running /usr/bin/env echo "d338349a7733cc0b99eee27fa86b6f6fb13c3d9f" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [89008fd1] Command: cd /home/fudan_coffee/deploy/releases/20160927043459 && /usr/bin/env echo "d338349a7733cc0b99eee27fa86b6f6fb13c3d9f" >> REVISION
  INFO [89008fd1] Finished in 0.061 seconds with exit status 0 (successful).
  INFO [d8b652a7] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160927043459 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [d8b652a7] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160927043459 /home/fudan_coffee/deploy/releases/current
  INFO [d8b652a7] Finished in 0.067 seconds with exit status 0 (successful).
  INFO [de220088] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [de220088] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [de220088] Finished in 0.069 seconds with exit status 0 (successful).
  INFO [373d23c9] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927043459 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [373d23c9] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927043459 && pip install -r doc/requirements.txt
 DEBUG [373d23c9] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [373d23c9] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [373d23c9] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [373d23c9] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [373d23c9] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [373d23c9] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [373d23c9] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [373d23c9] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [373d23c9] Finished in 0.563 seconds with exit status 0 (successful).
  INFO [8e92e308] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927043459 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [8e92e308] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927043459 && python script/migration.py
  INFO [8e92e308] Finished in 0.191 seconds with exit status 0 (successful).
  INFO [e6b1fb61] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [e6b1fb61] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [e6b1fb61] 	coffee: stopped
coffee: started
  INFO [e6b1fb61] Finished in 1.649 seconds with exit status 0 (successful).
 DEBUG [afa38ff2] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [afa38ff2] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [afa38ff2] 	20160927041427	20160927041505	20160927041731	20160927042510	20160927043141
20160927043459
 DEBUG [afa38ff2] Finished in 0.069 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [11d6da0f] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160927041427 as fudan_coffee@115.28.174.126
 DEBUG [11d6da0f] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160927041427
  INFO [11d6da0f] Finished in 0.079 seconds with exit status 0 (successful).
 DEBUG [32e21742] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [32e21742] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [32e21742] Finished in 0.060 seconds with exit status 0 (successful).
  INFO [52d98a7a] Running /usr/bin/env echo "Branch master (at d338349a7733cc0b99eee27fa86b6f6fb13c3d9f) deployed as release 20160927043459 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [52d98a7a] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at d338349a7733cc0b99eee27fa86b6f6fb13c3d9f) deployed as release 20160927043459 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [52d98a7a] Finished in 0.062 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-09-27 12:47:47 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [b38adf45] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [b38adf45] Command: /usr/bin/env mkdir -p /tmp
  INFO [b38adf45] Finished in 0.430 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [91327826] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [91327826] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [91327826] Finished in 0.069 seconds with exit status 0 (successful).
  INFO [b781cc57] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [b781cc57] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [b781cc57] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
de42097a317bcb8859ac56de01ed107b1dd743b9	refs/heads/master
  INFO [b781cc57] Finished in 8.667 seconds with exit status 0 (successful).
  INFO [e28e3b4b] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [e28e3b4b] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [e28e3b4b] Finished in 0.071 seconds with exit status 0 (successful).
 DEBUG [02bc9525] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [02bc9525] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [02bc9525] Finished in 0.059 seconds with exit status 0 (successful).
 DEBUG [0085ae29] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [0085ae29] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [0085ae29] 	de42097
 DEBUG [0085ae29] Finished in 0.070 seconds with exit status 0 (successful).
 DEBUG [002825dc] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [002825dc] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [002825dc] Finished in 0.068 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [1134b58b] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [1134b58b] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [1134b58b] Finished in 0.060 seconds with exit status 0 (successful).
  INFO [e51d5b8c] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [e51d5b8c] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [e51d5b8c] 	Fetching origin
  INFO [e51d5b8c] Finished in 13.036 seconds with exit status 0 (successful).
 DEBUG [6cafa9b1] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [6cafa9b1] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [6cafa9b1] Finished in 0.054 seconds with exit status 0 (successful).
  INFO [4857e73c] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160927044757 as fudan_coffee@115.28.174.126
 DEBUG [4857e73c] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160927044757 )
  INFO [4857e73c] Finished in 0.069 seconds with exit status 0 (successful).
  INFO [94bd572e] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160927044757 as fudan_coffee@115.28.174.126
 DEBUG [94bd572e] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160927044757 )
  INFO [94bd572e] Finished in 0.078 seconds with exit status 0 (successful).
 DEBUG [965f3170] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [965f3170] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [965f3170] Finished in 0.057 seconds with exit status 0 (successful).
 DEBUG [7bbec4a8] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [7bbec4a8] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [7bbec4a8] 	de42097a317bcb8859ac56de01ed107b1dd743b9
 DEBUG [7bbec4a8] Finished in 0.069 seconds with exit status 0 (successful).
 DEBUG [b6905c82] Running if test ! -d /home/fudan_coffee/deploy/releases/20160927044757; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160927044757'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [b6905c82] Command: if test ! -d /home/fudan_coffee/deploy/releases/20160927044757; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160927044757'" 1>&2; false; fi
 DEBUG [b6905c82] Finished in 0.060 seconds with exit status 0 (successful).
  INFO [7027ad3d] Running /usr/bin/env echo "de42097a317bcb8859ac56de01ed107b1dd743b9" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [7027ad3d] Command: cd /home/fudan_coffee/deploy/releases/20160927044757 && /usr/bin/env echo "de42097a317bcb8859ac56de01ed107b1dd743b9" >> REVISION
  INFO [7027ad3d] Finished in 0.061 seconds with exit status 0 (successful).
  INFO [5bf35c0c] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160927044757 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [5bf35c0c] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160927044757 /home/fudan_coffee/deploy/releases/current
  INFO [5bf35c0c] Finished in 0.066 seconds with exit status 0 (successful).
  INFO [2fbbd86d] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [2fbbd86d] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [2fbbd86d] Finished in 0.069 seconds with exit status 0 (successful).
  INFO [c1c5d4a8] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927044757 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [c1c5d4a8] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927044757 && pip install -r doc/requirements.txt
 DEBUG [c1c5d4a8] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [c1c5d4a8] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [c1c5d4a8] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [c1c5d4a8] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [c1c5d4a8] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [c1c5d4a8] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [c1c5d4a8] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [c1c5d4a8] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [c1c5d4a8] Finished in 0.663 seconds with exit status 0 (successful).
  INFO [85a704f0] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927044757 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [85a704f0] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927044757 && python script/migration.py
  INFO [85a704f0] Finished in 0.209 seconds with exit status 0 (successful).
  INFO [8f047f9e] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [8f047f9e] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [8f047f9e] 	coffee: stopped
coffee: started
  INFO [8f047f9e] Finished in 1.667 seconds with exit status 0 (successful).
 DEBUG [952d9cdf] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [952d9cdf] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [952d9cdf] 	20160927042510	20160927043141	20160927043459	20160927043520	20160927044056
20160927044757
 DEBUG [952d9cdf] Finished in 0.067 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [6c01e74a] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160927042510 as fudan_coffee@115.28.174.126
 DEBUG [6c01e74a] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160927042510
  INFO [6c01e74a] Finished in 0.069 seconds with exit status 0 (successful).
 DEBUG [1e8f4421] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [1e8f4421] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [1e8f4421] Finished in 0.067 seconds with exit status 0 (successful).
  INFO [a4b2883e] Running /usr/bin/env echo "Branch master (at de42097a317bcb8859ac56de01ed107b1dd743b9) deployed as release 20160927044757 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [a4b2883e] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at de42097a317bcb8859ac56de01ed107b1dd743b9) deployed as release 20160927044757 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [a4b2883e] Finished in 0.061 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-09-27 19:02:11 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [aa67c688] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [aa67c688] Command: /usr/bin/env mkdir -p /tmp
  INFO [aa67c688] Finished in 0.509 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [eace9d09] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [eace9d09] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [eace9d09] Finished in 0.078 seconds with exit status 0 (successful).
  INFO [95e6a331] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [95e6a331] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [95e6a331] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
726e4ece95d76808a11455374bfdf3d86aa5ef6f	refs/heads/master
  INFO [95e6a331] Finished in 6.320 seconds with exit status 0 (successful).
  INFO [b084f30c] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [b084f30c] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [b084f30c] Finished in 0.072 seconds with exit status 0 (successful).
 DEBUG [0fc8bf8f] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [0fc8bf8f] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [0fc8bf8f] Finished in 0.075 seconds with exit status 0 (successful).
 DEBUG [2b7fdfa8] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [2b7fdfa8] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [2b7fdfa8] 	dc77293
 DEBUG [2b7fdfa8] Finished in 0.074 seconds with exit status 0 (successful).
 DEBUG [79c55ef5] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [79c55ef5] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [79c55ef5] Finished in 0.077 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [a30c2b07] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [a30c2b07] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [a30c2b07] Finished in 0.090 seconds with exit status 0 (successful).
  INFO [cd2c0e5f] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [cd2c0e5f] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [cd2c0e5f] 	Fetching origin
 DEBUG [cd2c0e5f] 	From github.com:SlideMark/fudan_coffee
   dc77293..726e4ec  master     -> master
  INFO [cd2c0e5f] Finished in 19.034 seconds with exit status 0 (successful).
 DEBUG [ead23673] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [ead23673] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [ead23673] Finished in 0.071 seconds with exit status 0 (successful).
  INFO [00f56717] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160927110219 as fudan_coffee@115.28.174.126
 DEBUG [00f56717] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20160927110219 )
  INFO [00f56717] Finished in 0.070 seconds with exit status 0 (successful).
  INFO [7737967c] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160927110219 as fudan_coffee@115.28.174.126
 DEBUG [7737967c] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20160927110219 )
  INFO [7737967c] Finished in 0.089 seconds with exit status 0 (successful).
 DEBUG [b8730243] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [b8730243] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [b8730243] Finished in 0.066 seconds with exit status 0 (successful).
 DEBUG [2975752b] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [2975752b] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [2975752b] 	726e4ece95d76808a11455374bfdf3d86aa5ef6f
 DEBUG [2975752b] Finished in 0.081 seconds with exit status 0 (successful).
 DEBUG [25673ab2] Running if test ! -d /home/fudan_coffee/deploy/releases/20160927110219; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160927110219'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [25673ab2] Command: if test ! -d /home/fudan_coffee/deploy/releases/20160927110219; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20160927110219'" 1>&2; false; fi
 DEBUG [25673ab2] Finished in 0.067 seconds with exit status 0 (successful).
  INFO [d87e74b5] Running /usr/bin/env echo "726e4ece95d76808a11455374bfdf3d86aa5ef6f" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [d87e74b5] Command: cd /home/fudan_coffee/deploy/releases/20160927110219 && /usr/bin/env echo "726e4ece95d76808a11455374bfdf3d86aa5ef6f" >> REVISION
  INFO [d87e74b5] Finished in 0.072 seconds with exit status 0 (successful).
  INFO [89fbe0a5] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160927110219 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [89fbe0a5] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20160927110219 /home/fudan_coffee/deploy/releases/current
  INFO [89fbe0a5] Finished in 0.071 seconds with exit status 0 (successful).
  INFO [7fc39c1e] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [7fc39c1e] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [7fc39c1e] Finished in 0.089 seconds with exit status 0 (successful).
  INFO [fd296c85] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927110219 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [fd296c85] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927110219 && pip install -r doc/requirements.txt
 DEBUG [fd296c85] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [fd296c85] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [fd296c85] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [fd296c85] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [fd296c85] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [fd296c85] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [fd296c85] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [fd296c85] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [fd296c85] Finished in 0.568 seconds with exit status 0 (successful).
  INFO [6e43bb96] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927110219 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [6e43bb96] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20160927110219 && python script/migration.py
  INFO [6e43bb96] Finished in 0.206 seconds with exit status 0 (successful).
  INFO [eba708f4] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [eba708f4] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [eba708f4] 	coffee: stopped
coffee: started
  INFO [eba708f4] Finished in 1.671 seconds with exit status 0 (successful).
 DEBUG [17efb4fe] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [17efb4fe] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [17efb4fe] 	20160927091247	20160927091653	20160927092251	20160927093111	20160927093655
20160927110219
 DEBUG [17efb4fe] Finished in 0.081 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [c70a1621] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160927091247 as fudan_coffee@115.28.174.126
 DEBUG [c70a1621] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20160927091247
  INFO [c70a1621] Finished in 0.088 seconds with exit status 0 (successful).
 DEBUG [60251bb3] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [60251bb3] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [60251bb3] Finished in 0.082 seconds with exit status 0 (successful).
  INFO [135891ca] Running /usr/bin/env echo "Branch master (at 726e4ece95d76808a11455374bfdf3d86aa5ef6f) deployed as release 20160927110219 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [135891ca] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at 726e4ece95d76808a11455374bfdf3d86aa5ef6f) deployed as release 20160927110219 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [135891ca] Finished in 0.078 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-10-12 14:40:37 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [d8d0ae6d] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [d8d0ae6d] Command: /usr/bin/env mkdir -p /tmp
  INFO [d8d0ae6d] Finished in 0.390 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [e046f4de] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [e046f4de] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [e046f4de] Finished in 0.079 seconds with exit status 0 (successful).
  INFO [847d3a01] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [847d3a01] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [847d3a01] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
2bbd844fbea6ee60ad2e552b2ae59afef94490f6	refs/heads/master
  INFO [847d3a01] Finished in 7.715 seconds with exit status 0 (successful).
  INFO [fefc4100] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [fefc4100] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [fefc4100] Finished in 0.083 seconds with exit status 0 (successful).
 DEBUG [c1b3421e] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [c1b3421e] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [c1b3421e] Finished in 0.077 seconds with exit status 0 (successful).
 DEBUG [e99dd098] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [e99dd098] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [e99dd098] 	1a0ab70
 DEBUG [e99dd098] Finished in 0.076 seconds with exit status 0 (successful).
 DEBUG [86476a91] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [86476a91] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [86476a91] Finished in 0.072 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [cfc40587] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [cfc40587] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [cfc40587] Finished in 0.071 seconds with exit status 0 (successful).
  INFO [5506d8e7] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [5506d8e7] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [5506d8e7] 	Fetching origin
 DEBUG [5506d8e7] 	From github.com:SlideMark/fudan_coffee
   1a0ab70..2bbd844  master     -> master
  INFO [5506d8e7] Finished in 11.458 seconds with exit status 0 (successful).
 DEBUG [b05e8e38] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [b05e8e38] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [b05e8e38] Finished in 0.068 seconds with exit status 0 (successful).
  INFO [ff457291] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20161012064046 as fudan_coffee@115.28.174.126
 DEBUG [ff457291] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20161012064046 )
  INFO [ff457291] Finished in 0.070 seconds with exit status 0 (successful).
  INFO [7d4cb615] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20161012064046 as fudan_coffee@115.28.174.126
 DEBUG [7d4cb615] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20161012064046 )
  INFO [7d4cb615] Finished in 0.093 seconds with exit status 0 (successful).
 DEBUG [f8a8c2fc] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [f8a8c2fc] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [f8a8c2fc] Finished in 0.064 seconds with exit status 0 (successful).
 DEBUG [03145a26] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [03145a26] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [03145a26] 	2bbd844fbea6ee60ad2e552b2ae59afef94490f6
 DEBUG [03145a26] Finished in 0.077 seconds with exit status 0 (successful).
 DEBUG [1341c63c] Running if test ! -d /home/fudan_coffee/deploy/releases/20161012064046; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20161012064046'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [1341c63c] Command: if test ! -d /home/fudan_coffee/deploy/releases/20161012064046; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20161012064046'" 1>&2; false; fi
 DEBUG [1341c63c] Finished in 0.072 seconds with exit status 0 (successful).
  INFO [30b7304b] Running /usr/bin/env echo "2bbd844fbea6ee60ad2e552b2ae59afef94490f6" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [30b7304b] Command: cd /home/fudan_coffee/deploy/releases/20161012064046 && /usr/bin/env echo "2bbd844fbea6ee60ad2e552b2ae59afef94490f6" >> REVISION
  INFO [30b7304b] Finished in 0.071 seconds with exit status 0 (successful).
  INFO [8c8bcd66] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20161012064046 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [8c8bcd66] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20161012064046 /home/fudan_coffee/deploy/releases/current
  INFO [8c8bcd66] Finished in 0.075 seconds with exit status 0 (successful).
  INFO [31c3b0c8] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [31c3b0c8] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [31c3b0c8] Finished in 0.079 seconds with exit status 0 (successful).
  INFO [cf919b78] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20161012064046 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [cf919b78] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20161012064046 && pip install -r doc/requirements.txt
 DEBUG [cf919b78] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [cf919b78] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [cf919b78] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [cf919b78] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [cf919b78] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [cf919b78] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [cf919b78] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [cf919b78] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [cf919b78] Finished in 0.578 seconds with exit status 0 (successful).
  INFO [f991280e] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20161012064046 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [f991280e] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20161012064046 && python script/migration.py
  INFO [f991280e] Finished in 0.214 seconds with exit status 0 (successful).
  INFO [b700a8b5] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [b700a8b5] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [b700a8b5] 	coffee: stopped
coffee: started
  INFO [b700a8b5] Finished in 1.871 seconds with exit status 0 (successful).
 DEBUG [372d89d7] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [372d89d7] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [372d89d7] 	20161012041302	20161012043927	20161012045911	20161012062658	20161012063122
20161012064046
 DEBUG [372d89d7] Finished in 0.074 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [a103291c] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20161012041302 as fudan_coffee@115.28.174.126
 DEBUG [a103291c] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20161012041302
  INFO [a103291c] Finished in 0.079 seconds with exit status 0 (successful).
 DEBUG [560070da] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [560070da] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [560070da] Finished in 0.072 seconds with exit status 0 (successful).
  INFO [6d560a56] Running /usr/bin/env echo "Branch master (at 2bbd844fbea6ee60ad2e552b2ae59afef94490f6) deployed as release 20161012064046 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [6d560a56] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at 2bbd844fbea6ee60ad2e552b2ae59afef94490f6) deployed as release 20161012064046 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [6d560a56] Finished in 0.071 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-10-12 14:42:29 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [8e902287] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [8e902287] Command: /usr/bin/env mkdir -p /tmp
  INFO [8e902287] Finished in 0.460 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [acf764f2] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [acf764f2] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [acf764f2] Finished in 0.069 seconds with exit status 0 (successful).
  INFO [37385fc8] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [37385fc8] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [37385fc8] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
ffbc465ceda4ede0f8ff74e7332a1a40fd0437ac	refs/heads/master
  INFO [37385fc8] Finished in 7.501 seconds with exit status 0 (successful).
  INFO [01450d83] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [01450d83] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [01450d83] Finished in 0.062 seconds with exit status 0 (successful).
 DEBUG [16c98b07] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [16c98b07] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [16c98b07] Finished in 0.058 seconds with exit status 0 (successful).
 DEBUG [a7c10be5] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [a7c10be5] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [a7c10be5] 	2bbd844fbea6ee60ad2e552b2ae59afef94490f6
 DEBUG [a7c10be5] Finished in 0.062 seconds with exit status 0 (successful).
 DEBUG [3a3c4efd] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [3a3c4efd] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [3a3c4efd] Finished in 0.062 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [2b404146] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [2b404146] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [2b404146] Finished in 0.056 seconds with exit status 0 (successful).
  INFO [5e1358e7] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [5e1358e7] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [5e1358e7] 	Fetching origin
 DEBUG [5e1358e7] 	From github.com:SlideMark/fudan_coffee
   2bbd844..ffbc465  master     -> master
  INFO [5e1358e7] Finished in 9.511 seconds with exit status 0 (successful).
 DEBUG [25528563] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [25528563] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [25528563] Finished in 0.065 seconds with exit status 0 (successful).
  INFO [89fec906] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20161012064238 as fudan_coffee@115.28.174.126
 DEBUG [89fec906] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20161012064238 )
  INFO [89fec906] Finished in 0.071 seconds with exit status 0 (successful).
  INFO [e6858492] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20161012064238 as fudan_coffee@115.28.174.126
 DEBUG [e6858492] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20161012064238 )
  INFO [e6858492] Finished in 0.082 seconds with exit status 0 (successful).
 DEBUG [82a97ed2] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [82a97ed2] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [82a97ed2] Finished in 0.051 seconds with exit status 0 (successful).
 DEBUG [ff80c68b] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [ff80c68b] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [ff80c68b] 	ffbc465ceda4ede0f8ff74e7332a1a40fd0437ac
 DEBUG [ff80c68b] Finished in 0.064 seconds with exit status 0 (successful).
 DEBUG [50049603] Running if test ! -d /home/fudan_coffee/deploy/releases/20161012064238; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20161012064238'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [50049603] Command: if test ! -d /home/fudan_coffee/deploy/releases/20161012064238; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20161012064238'" 1>&2; false; fi
 DEBUG [50049603] Finished in 0.059 seconds with exit status 0 (successful).
  INFO [c6f341e4] Running /usr/bin/env echo "ffbc465ceda4ede0f8ff74e7332a1a40fd0437ac" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [c6f341e4] Command: cd /home/fudan_coffee/deploy/releases/20161012064238 && /usr/bin/env echo "ffbc465ceda4ede0f8ff74e7332a1a40fd0437ac" >> REVISION
  INFO [c6f341e4] Finished in 0.061 seconds with exit status 0 (successful).
  INFO [2b1d7b51] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20161012064238 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [2b1d7b51] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20161012064238 /home/fudan_coffee/deploy/releases/current
  INFO [2b1d7b51] Finished in 0.067 seconds with exit status 0 (successful).
  INFO [0b660cee] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [0b660cee] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [0b660cee] Finished in 0.079 seconds with exit status 0 (successful).
  INFO [ce461a3d] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20161012064238 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [ce461a3d] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20161012064238 && pip install -r doc/requirements.txt
 DEBUG [ce461a3d] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [ce461a3d] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [ce461a3d] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [ce461a3d] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [ce461a3d] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [ce461a3d] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [ce461a3d] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [ce461a3d] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [ce461a3d] Finished in 0.648 seconds with exit status 0 (successful).
  INFO [6b83d3f6] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20161012064238 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [6b83d3f6] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20161012064238 && python script/migration.py
  INFO [6b83d3f6] Finished in 0.205 seconds with exit status 0 (successful).
  INFO [644e1bae] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [644e1bae] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [644e1bae] 	coffee: stopped
coffee: started
  INFO [644e1bae] Finished in 1.632 seconds with exit status 0 (successful).
 DEBUG [b2f2eb9e] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [b2f2eb9e] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [b2f2eb9e] 	20161012043927	20161012045911	20161012062658	20161012063122	20161012064046
20161012064238
 DEBUG [b2f2eb9e] Finished in 0.074 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [4e5eed26] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20161012043927 as fudan_coffee@115.28.174.126
 DEBUG [4e5eed26] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20161012043927
  INFO [4e5eed26] Finished in 0.085 seconds with exit status 0 (successful).
 DEBUG [c7f17200] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [c7f17200] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [c7f17200] Finished in 0.057 seconds with exit status 0 (successful).
  INFO [5f025c93] Running /usr/bin/env echo "Branch master (at ffbc465ceda4ede0f8ff74e7332a1a40fd0437ac) deployed as release 20161012064238 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [5f025c93] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at ffbc465ceda4ede0f8ff74e7332a1a40fd0437ac) deployed as release 20161012064238 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [5f025c93] Finished in 0.060 seconds with exit status 0 (successful).
  INFO ---------------------------------------------------------------------------
  INFO START 2016-10-12 14:46:25 +0800 cap production deploy
  INFO ---------------------------------------------------------------------------
  INFO [673dda39] Running /usr/bin/env mkdir -p /tmp as fudan_coffee@115.28.174.126
 DEBUG [673dda39] Command: /usr/bin/env mkdir -p /tmp
  INFO [673dda39] Finished in 0.418 seconds with exit status 0 (successful).
 DEBUG Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 0.0%
  INFO Uploading /tmp/git-ssh-fudan_coffee-production-irish.sh 100.0%
  INFO [4d311d1c] Running /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh as fudan_coffee@115.28.174.126
 DEBUG [4d311d1c] Command: /usr/bin/env chmod 700 /tmp/git-ssh-fudan_coffee-production-irish.sh
  INFO [4d311d1c] Finished in 0.079 seconds with exit status 0 (successful).
  INFO [22c8a5cd] Running /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git as fudan_coffee@115.28.174.126
 DEBUG [22c8a5cd] Command: ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git ls-remote --heads git@github.com:SlideMark/fudan_coffee.git )
 DEBUG [22c8a5cd] 	1f94bddcb870c8d52056c38f1f9de61f746ffe38	refs/heads/feature/old
1a4808e994755e5873e061abbf22371f11e2f2b1	refs/heads/master
  INFO [22c8a5cd] Finished in 6.466 seconds with exit status 0 (successful).
  INFO [50216082] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [50216082] Command: /usr/bin/env mkdir -p /home/fudan_coffee/deploy/shared /home/fudan_coffee/deploy/releases
  INFO [50216082] Finished in 0.079 seconds with exit status 0 (successful).
 DEBUG [4bbaa69c] Running [ -f /home/fudan_coffee/deploy/current/REVISION ] as fudan_coffee@115.28.174.126
 DEBUG [4bbaa69c] Command: [ -f /home/fudan_coffee/deploy/current/REVISION ]
 DEBUG [4bbaa69c] Finished in 0.070 seconds with exit status 0 (successful).
 DEBUG [47a52742] Running /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null as fudan_coffee@115.28.174.126
 DEBUG [47a52742] Command: /usr/bin/env cat /home/fudan_coffee/deploy/current/REVISION 2>/dev/null
 DEBUG [47a52742] 	ffbc465ceda4ede0f8ff74e7332a1a40fd0437ac
 DEBUG [47a52742] Finished in 0.077 seconds with exit status 0 (successful).
 DEBUG [ff410ded] Running [ -f /home/fudan_coffee/deploy/repo/HEAD ] as fudan_coffee@115.28.174.126
 DEBUG [ff410ded] Command: [ -f /home/fudan_coffee/deploy/repo/HEAD ]
 DEBUG [ff410ded] Finished in 0.071 seconds with exit status 0 (successful).
  INFO The repository mirror is at /home/fudan_coffee/deploy/repo
 DEBUG [e95c34c3] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [e95c34c3] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [e95c34c3] Finished in 0.068 seconds with exit status 0 (successful).
  INFO [ea95d948] Running /usr/bin/env git remote update --prune as fudan_coffee@115.28.174.126
 DEBUG [ea95d948] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git remote update --prune )
 DEBUG [ea95d948] 	Fetching origin
 DEBUG [ea95d948] 	From github.com:SlideMark/fudan_coffee
   ffbc465..1a4808e  master     -> master
  INFO [ea95d948] Finished in 8.609 seconds with exit status 0 (successful).
 DEBUG [033f880c] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [033f880c] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [033f880c] Finished in 0.069 seconds with exit status 0 (successful).
  INFO [4c1060a8] Running /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20161012064632 as fudan_coffee@115.28.174.126
 DEBUG [4c1060a8] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env mkdir -p /home/fudan_coffee/deploy/releases/20161012064632 )
  INFO [4c1060a8] Finished in 0.071 seconds with exit status 0 (successful).
  INFO [576b12a7] Running /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20161012064632 as fudan_coffee@115.28.174.126
 DEBUG [576b12a7] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git archive master | tar -x -f - -C /home/fudan_coffee/deploy/releases/20161012064632 )
  INFO [576b12a7] Finished in 0.086 seconds with exit status 0 (successful).
 DEBUG [45242526] Running if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [45242526] Command: if test ! -d /home/fudan_coffee/deploy/repo; then echo "Directory does not exist '/home/fudan_coffee/deploy/repo'" 1>&2; false; fi
 DEBUG [45242526] Finished in 0.070 seconds with exit status 0 (successful).
 DEBUG [9d616520] Running /usr/bin/env git rev-list --max-count=1 master as fudan_coffee@115.28.174.126
 DEBUG [9d616520] Command: cd /home/fudan_coffee/deploy/repo && ( export GIT_ASKPASS="/bin/echo" GIT_SSH="/tmp/git-ssh-fudan_coffee-production-irish.sh" ; /usr/bin/env git rev-list --max-count=1 master )
 DEBUG [9d616520] 	1a4808e994755e5873e061abbf22371f11e2f2b1
 DEBUG [9d616520] Finished in 0.079 seconds with exit status 0 (successful).
 DEBUG [c24ac093] Running if test ! -d /home/fudan_coffee/deploy/releases/20161012064632; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20161012064632'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [c24ac093] Command: if test ! -d /home/fudan_coffee/deploy/releases/20161012064632; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases/20161012064632'" 1>&2; false; fi
 DEBUG [c24ac093] Finished in 0.071 seconds with exit status 0 (successful).
  INFO [39254023] Running /usr/bin/env echo "1a4808e994755e5873e061abbf22371f11e2f2b1" >> REVISION as fudan_coffee@115.28.174.126
 DEBUG [39254023] Command: cd /home/fudan_coffee/deploy/releases/20161012064632 && /usr/bin/env echo "1a4808e994755e5873e061abbf22371f11e2f2b1" >> REVISION
  INFO [39254023] Finished in 0.059 seconds with exit status 0 (successful).
  INFO [a1fe0d81] Running /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20161012064632 /home/fudan_coffee/deploy/releases/current as fudan_coffee@115.28.174.126
 DEBUG [a1fe0d81] Command: /usr/bin/env ln -s /home/fudan_coffee/deploy/releases/20161012064632 /home/fudan_coffee/deploy/releases/current
  INFO [a1fe0d81] Finished in 0.076 seconds with exit status 0 (successful).
  INFO [ac22b743] Running /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy as fudan_coffee@115.28.174.126
 DEBUG [ac22b743] Command: /usr/bin/env mv /home/fudan_coffee/deploy/releases/current /home/fudan_coffee/deploy
  INFO [ac22b743] Finished in 0.079 seconds with exit status 0 (successful).
  INFO [4d4997ea] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20161012064632 && pip install -r doc/requirements.txt as fudan_coffee@115.28.174.126
 DEBUG [4d4997ea] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20161012064632 && pip install -r doc/requirements.txt
 DEBUG [4d4997ea] 	Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 1))
 DEBUG [4d4997ea] 	Requirement already satisfied (use --upgrade to upgrade): PyYAML==3.11 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 2))
 DEBUG [4d4997ea] 	Requirement already satisfied (use --upgrade to upgrade): flask==0.11.1 in /home/fudan_coffee/env/lib/python2.7/site-packages (from -r doc/requirements.txt (line 3))
 DEBUG [4d4997ea] 	Requirement already satisfied (use --upgrade to upgrade): itsdangerous>=0.21 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [4d4997ea] 	Requirement already satisfied (use --upgrade to upgrade): click>=2.0 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [4d4997ea] 	Requirement already satisfied (use --upgrade to upgrade): Werkzeug>=0.7 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [4d4997ea] 	Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.4 in /home/fudan_coffee/env/lib/python2.7/site-packages (from flask==0.11.1->-r doc/requirements.txt (line 3))
 DEBUG [4d4997ea] 	Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/fudan_coffee/env/lib/python2.7/site-packages (from Jinja2>=2.4->flask==0.11.1->-r doc/requirements.txt (line 3))
  INFO [4d4997ea] Finished in 0.586 seconds with exit status 0 (successful).
  INFO [43be10b4] Running source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20161012064632 && python script/migration.py as fudan_coffee@115.28.174.126
 DEBUG [43be10b4] Command: source /home/fudan_coffee/env/bin/activate && cd /home/fudan_coffee/deploy/releases/20161012064632 && python script/migration.py
  INFO [43be10b4] Finished in 0.215 seconds with exit status 0 (successful).
  INFO [c3eaf852] Running source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee as fudan_coffee@115.28.174.126
 DEBUG [c3eaf852] Command: source /home/fudan_coffee/env/bin/activate && supervisorctl restart coffee
 DEBUG [c3eaf852] 	coffee: stopped
coffee: started
  INFO [c3eaf852] Finished in 1.661 seconds with exit status 0 (successful).
 DEBUG [cb29d5f0] Running /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases as fudan_coffee@115.28.174.126
 DEBUG [cb29d5f0] Command: /usr/bin/env ls -xtr /home/fudan_coffee/deploy/releases
 DEBUG [cb29d5f0] 	20161012045911	20161012062658	20161012063122	20161012064046	20161012064238
20161012064632
 DEBUG [cb29d5f0] Finished in 0.068 seconds with exit status 0 (successful).
  INFO Keeping 5 of 6 deployed releases on 115.28.174.126
  INFO [c6b4ee59] Running /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20161012045911 as fudan_coffee@115.28.174.126
 DEBUG [c6b4ee59] Command: /usr/bin/env rm -rf /home/fudan_coffee/deploy/releases/20161012045911
  INFO [c6b4ee59] Finished in 0.068 seconds with exit status 0 (successful).
 DEBUG [1bacf48a] Running if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi as fudan_coffee@115.28.174.126
 DEBUG [1bacf48a] Command: if test ! -d /home/fudan_coffee/deploy/releases; then echo "Directory does not exist '/home/fudan_coffee/deploy/releases'" 1>&2; false; fi
 DEBUG [1bacf48a] Finished in 0.069 seconds with exit status 0 (successful).
  INFO [e3a19244] Running /usr/bin/env echo "Branch master (at 1a4808e994755e5873e061abbf22371f11e2f2b1) deployed as release 20161012064632 by irish" >> /home/fudan_coffee/deploy/revisions.log as fudan_coffee@115.28.174.126
 DEBUG [e3a19244] Command: cd /home/fudan_coffee/deploy/releases && /usr/bin/env echo "Branch master (at 1a4808e994755e5873e061abbf22371f11e2f2b1) deployed as release 20161012064632 by irish" >> /home/fudan_coffee/deploy/revisions.log
  INFO [e3a19244] Finished in 0.072 seconds with exit status 0 (successful).
